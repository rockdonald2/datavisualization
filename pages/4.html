<!DOCTYPE html>
<html lang="en"
    class="text-gray-800 text-base md:text-lg antialiased leading-relaxed tracking-normal break-normal bg-white">

    <head>
        <meta charset="UTF-8">
        <meta name="viewport"
            content="width=device-width, initial-scale=1.0">
        <meta name="description"
            content="A repo for studying a book.">
        <meta name="keywords"
            content="visualization,javascript,python,d3,flask,restful">
        <meta name="author"
            content="Luk√°cs Zsolt">
        <meta http-equiv="X-UA-Compatible"
            content="ie=edge">
        <title>4 Az adatok tiszt√≠t√°sa √©s feldolgoz√°sa</title>
        <link rel="stylesheet"
            href="../css/style.css">
        <link rel="stylesheet"
            href="../css/compiled.css">
        <link rel="stylesheet"
            href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.1/styles/dracula.min.css">
        <link rel="stylesheet"
            href="../tools/pushy-1.3.0/css/pushy.css">
        <!-- Safari-n az emoji favicon nem m≈±k√∂dik -->
        <link rel="icon"
            href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22
                viewBox=%220
                0
                100
                100%22><text y=%22.9em%22
                    font-size=%2290%22>üìï</text></svg>">
    </head>

    <body class="overflow-x-hidden">
        <!-- navig√°ci√≥ -->
        <nav class="pushy pushy-left">
            <div class="pushy-content">
                <ul>
                    <li class="pushy-link"><a href="../index.html">1 Bevezet√©s</a></li>
                    <li class="pushy-link"><a href="2.html">2 Els≈ë l√©p√©sek az adatvizualiz√°ci√≥ban</a></li>
                    <li class="pushy-link"><a href="3.html">3 Az adatok megszerz√©se</a></li>
                    <li class="pushy-link"><a href="4.html">4 Az adatok tiszt√≠t√°sa √©s feldolgoz√°sa</a></li>
                </ul>
            </div>
        </nav>

        <!-- Pushy-hoz site overlay -->
        <div class="site-overlay"></div>

        <main id="container"
            class="container p-8 md:p-6 max-w-2xl md:max-w-3xl min-h-screen">
            <button id="menu"
                class="menu-btn px-4 py-2 bg-gray-900 text-white hover:bg-blue-800 transition duration-75 ease-in">&#9776;
                Men√º</button>

            <!-- negyedik r√©sze eleje -->

            <section class="pb-8">
                <h1 class="text-3xl md:text-4xl py-8 text-gray-900 font-semibold">4 Az adatok tiszt√≠t√°sa √©s feldolgoz√°sa</h1>

                <section id="4numpy">
                    <h2 class="text-2xl pb-4 font-semibold text-gray-800">Bevezet√©s a NumPy-ba</h2>
                    <p id="firstPar"
                        class="text-lg font-normal pb-3">Ebben a fejezetben egy √∫jabb Python k√∂nyvt√°rral fogunk megismerkedni, a
                        Numeric Python-al, r√∂viden a NumPy-al. A NumPy kulcsfontoss√°g√∫ lesz a Pandas-al val√≥ munka sor√°n,
                        elhagyhatatlan az
                        adat-elemz√©shez haszn√°lt k√∂nyvt√°runkhoz, amellyel az ezt k√∂vet≈ë fejezetekben fogunk megismerkedni mik√∂zben
                        a
                        nemr√©g megszerzett Nobel-d√≠j adatsorunkat tiszt√≠tjuk √©s fedezz√ºk fel. Egy √°ltal√°nos ismeret √©s tud√°s a
                        NumPy alapvet≈ë elemeir≈ël n√©lk√ºl√∂zhetetlen, ha a legt√∂bbet szeretn√©nk kinyerni a Pandas-b√≥l.</p>
                    <p class="text-lg font-normal pb-3">A NumPy egy Python m√≥dul, amely el√©rhet≈ëv√© tesz nagyon gyors,
                        t√∂bb-dimenzi√≥s t√∂mb manipul√°l√°st, mindezt a h√°tt√©rben alacsony szint≈± k√∂nyvt√°rakkal megt√°mogatva C-ben √©s
                        Fortran-ban √≠rva. A Python nat√≠v teljes√≠tm√©nye nagy mennyis√©g≈± adattal lass√∫, nagyon magas nyelv l√©v√©n, de
                        a NumPy lehet≈ëv√© tesz azt, hogy p√°rhuzamosan hajts v√©gre m≈±veleteket nagy t√∂mb√∂k√∂n egyidej≈±leg, ez √°ltal
                        nagyon gyorss√° t√©ve.</p>
                    <p class="text-lg font-normal pb-3">Mondhatni, a NumPy minden adat-feldolgoz√°si munk√°nak az alapj√°t k√©pzi, de
                        tov√°bb√° elmondhat√≥ az is, hogy maga a NumPy √∂kosziszt√©ma is rendk√≠v√ºl kiterjedt, olyan kieg√©sz√≠t≈ëkkel
                        rendelkezik, mint a SciPy, a Python tudom√°nyos m√≥dulja, amely bonyolult tudom√°nyos √©s m√©rn√∂ki m√≥dulokat
                        tartalmaz. De megeml√≠thet≈ë m√©g a Scikit-learn, amely rendelkez√©s√ºnkre bocs√°jt machine-learning
                        algoritmusokat. Azonban, az eml√≠tetteken k√≠v√ºl m√©g sz√°mos kieg√©sz√≠t≈ëvel rendelkezik a NumPy √©s szakosodott
                        k√∂nyvt√°rak is l√©teznek, amelyek a NumPy t√∂bb-dimenzi√≥s t√∂mbjeire √©p√ºlnek.</p>
                    <p class="text-lg font-normal pb-3">Amit legf≈ëk√©ppen megkell teh√°t √©rteni a NumPy-al kapcsolatosan, az nem
                        m√°s, mint a t√∂mbjei, a k√∂vetkez≈ëkben p√©ld√°kon kereszt√ºl azokat fogjuk megvizsg√°lni.</p>
                    <p class="text-lg font-normal">A NumPy-ban minden a t√∂bb-dimenzi√≥s <em>ndarray</em> objektumra √©p√ºl. Egy√©b
                        dolgok mellett, olyan egyszer≈±eket is ellehet v√©gezni ezen objektumokon, mint az aritmetikai m≈±veletek,
                        ahogy azt elemi t√≠pusok, ak√°r floatok eset√©ben is tenn√©nk. N√©zz√ºk meg ezt egy p√©ld√°n kereszt√ºl:</p>
                    <pre class="my-4 text-sm md:text-md font-semibold rounded-md overflow-auto text-gray-200"><code class="python">import numpy as np

a = np.array([1, 2, 3])

a + a # output: array([2, 4, 6])</code></pre>
                    <p class="text-lg font-normal">Az ndarray objektum h√°rom fontos tulajdons√°ggal rendelkezik, a dimenzi√≥k sz√°ma
                        <em>(ndim)</em>, az alakja <em>(shape)</em>, v√©g√ºl a numerikus t√≠pusa <em>(numeric type)</em>. Ugyanaz a
                        t√∂mbnyi sz√°m ak√°r √°talak√≠that√≥ helyben is, amely ak√°r mag√°ba foglalhatja a t√∂mb dimenzi√≥inak sz√°m√°nak
                        megv√°ltoz√°s√°t is. A k√∂vetkez≈ë p√©lda egy ilyent helyzetet szeml√©ltet:</p>
                    <pre class="my-4 text-sm md:text-md font-semibold rounded-md overflow-auto text-gray-200"><code class="python"># ezt a f√ºggv√©nyt fogjuk haszn√°lni a 3 tulajdons√°g ki√≠r√°s√°ra
def print_array_details(a):
    print('Dimensions: {}, shape: {}, dtype: {}'.format(a.ndim, a.shape, a.dtype))

a = np.array([1, 2, 3, 4, 5, 6, 7, 8, 9])
print(a)
print_array_details(a)
# output:
# [1 2 3 4 5 6 7 8 9]
# Dimensions: 1, shape: (9,), dtype: int32</code></pre>
                    <p class="text-lg font-normal">Felhaszn√°lva a <em>reshape</em> met√≥dust, k√©pesek vagyunk megv√°ltoztatni az
                        alakj√°t √©s a dimenzi√≥inak sz√°m√°t az 'a' t√∂mbnek. Alak√≠tsuk √°t a jelenlegi t√∂mb√ºnket egy 3 dimenzi√≥s
                        t√∂mbb√©, amely 3 darab 3 tagb√≥l √°ll√≥ t√∂mbb≈ël √°ll:</p>
                    <pre class="my-4 text-sm md:text-md font-semibold rounded-md overflow-auto text-gray-200"><code class="python">a = a.reshape([3, 3])
print(a)
print_array_details(a)
# [[1 2 3]
#  [4 5 6]
#  [7 8 9]]
# Dimensions: 2, shape: (3, 3), dtype: int32</code></pre>
                    <p class="text-lg font-normal">A k√∂vetkez≈ë p√©ld√°ban egy √∂sszesen 8 tagb√≥l √°ll√≥ t√∂mb h√°rom dimenzioss√° is
                        tehet≈ë:</p>
                    <pre class="my-4 text-sm md:text-md font-semibold rounded-md overflow-auto text-gray-200"><code class="python">b = np.array([1, 2, 3, 4, 5, 6, 7, 8])
b = b.reshape([2, 2, 2])
print(b)
print_array_details(b)
# [[[1 2]
#   [3 4]]
# 
#  [[5 6]
#   [7 8]]]
# Dimensions: 3, shape: (2, 2, 2), dtype: int32</code></pre>
                    <p class="text-lg font-normal pb-3">A fenti p√©ld√°kb√≥l m√°r √°ltal√°noss√°gban kik√∂vetkeztethet≈ë n√©h√°ny dolog.
                        Egyr√©szt,
                        a dimenzi√≥k sz√°m√°t az alakja hat√°rozza meg, illetve ahhoz, hogy egy bizonyos dimenzi√≥t bet√∂lts√∂n egy
                        t√∂mbnyi sz√°m, minimum <em>n^ndim</em> elemmel kell rendelkezzen, (n, n, n) alak eset√©n.</p>
                    <p class="text-lg font-normal">A t√∂mb alakja √©s numerikus t√≠pusa l√©trehoz√°skor is meghat√°rozhat√≥, ugyanakkor
                        l√©trehoz√°s ut√°n a legk√∂nnyebb megold√°s a t√∂mb numerikus t√≠pus√°nak megv√°ltoztat√°s√°ra a reshape-hez
                        hasonl√≥an
                        az <em>astype</em> met√≥dus lenne. Eben az esetben a met√≥dus egy √°tm√©retezett m√°solatot k√©sz√≠t az eredeti
                        t√∂mbr≈ël a mod√≥s√≠tott t√≠pussal:</p>
                    <pre class="my-4 text-sm md:text-md font-semibold rounded-md overflow-auto text-gray-200"><code class="python">x = np.array([[1, 2, 3], [4, 5, 6]], np.int64)
print(x.shape) # output: (2, 3)
print(x.dtype) # output: int64

x.shape = (6, )
x = x.astype('int32')
print(x.shape) # output: (6, )
print(x.dtype) # output: int32</code></pre>
                    <p class="text-lg font-normal">Amellett, hogy NumPy eset√©n lehet≈ës√©g√ºnk van sz√°msorokb√≥l t√∂mb√∂ket l√©trehozni,
                        biztos√≠t j√≥n√©h√°ny kieg√©sz√≠t≈ë f√ºggv√©nyt, hogy l√©trehozzunk t√∂mb√∂t egy bizonyos mint√°val. <em>zeros</em> √©s
                        <em>ones</em> f√ºggv√©nyek p√©ldak√©ppen a leggyakrabban haszn√°ltak k√∂z√© tartoznak, amelyek el≈ëre felt√∂lt√∂tt
                        t√∂mb√∂ket hoznak l√©tre a megadott mint√°val. Fontos megjegyezni, hogy ezek a f√ºggv√©nyek √°ltal√°ban float64
                        t√≠pussal dolgoznak, √©s nem intekkel:</p>
                    <pre class="my-4 text-sm md:text-md font-semibold rounded-md overflow-auto text-gray-200"><code class="python">a = np.zeros([2, 3])
print(a)
print(a.dtype)
# output:
# [[0. 0. 0.]
#  [0. 0. 0.]]
# float64

b = np.ones([2, 3])
print(b)
print(b.dtype)
# output:
# [[1. 1. 1.]
#  [1. 1. 1.]]
# float64</code></pre>
                    <p class="text-lg font-normal">Emellett, rendelkez√©s√ºnkre √°ll egy <em>empty</em> met√≥dus is, amely l√©trehozza
                        a sz√ºks√©ges mem√≥ria-blokkot, azonban nem t√∂lti fel azt elemekkel √©s az inicializ√°l√°st r√°nk hagyja:</p>
                    <pre class="my-4 text-sm md:text-md font-semibold rounded-md overflow-auto text-gray-200"><code class="python">empty_arr = np.empty([2, 3])
print(empty_arr)
# output: 
# [[1. 1. 1.]
#  [1. 1. 1.]]
# az output v√°ltozhat, att√≥l f√ºgg≈ëen √©ppen mi volt a mem√≥riater√ºleten</code></pre>
                    <p class="text-lg font-normal">A k√∂vetkez≈ë hasznos met√≥dus a <em>random</em>, amely a random m√≥dulon bel√ºl
                        tal√°lhat√≥ meg egy√©b hasznos f√ºggv√©nyekkel egy√ºtt. Ez l√©trehoz egy megadott mint√°j√∫ random sz√°mokkal
                        felt√∂lt√∂tt t√∂mb√∂t:</p>
                    <pre class="my-4 text-sm md:text-md font-semibold rounded-md overflow-auto text-gray-200"><code class="python">rand_arr = np.random.random([2, 3])
print(rand_arr)
# output:
# [[0.16112766 0.76956209 0.28967126]
#  [0.17799395 0.11935788 0.83240867]]</code></pre>
                    <p class="text-lg font-normal">A <em>linspace</em> l√©trehoz egy meghat√°rozott sz√°m≈± elemb≈ël √°ll√≥ egyenl≈ë
                        eloszl√°s√∫ t√∂mb√∂t, egy megadott intervalumon bel√ºl, az <em>arange</em> is ehhez hasonl√≥, azonban ott
                        l√©peget√©ssel m≈±k√∂dik, teh√°t nem az elemek sz√°m√°t, hanem az elemek k√∂z√∂tti √°lland√≥ k√ºl√∂nbs√©get adjuk meg:
                    </p>
                    <pre class="my-4 text-sm md:text-md font-semibold rounded-md overflow-auto text-gray-200"><code class="python"># l√©trehozunk egy 5 elemb≈ël √°ll√≥ egyenl≈ë-eloszl√°s√∫ t√∂mb√∂t 2 √©s 10 k√∂z√∂tt
a = np.linspace(2, 10, 5)
print(a)


# l√©trehozunk egy t√∂mb√∂t 2 √©s 10 k√∂z√∂tt, kettes√©vel l√©pegetve
b = np.arange(2, 10, 2)
print(b)

# output:
# [ 2.  4.  6.  8. 10.]
# [2 4 6 8]
# az arange a fels≈ë hat√°rral kiz√°r√≥, m√≠g a linspace megenged≈ë</code></pre>
                    <p class="text-lg font-normal">A NumPy eset√©n, az egy-dimenzi√≥s t√∂mb√∂k indexel√©skor √©s slicekor ugyan√∫gy
                        viselkednek, mint a Python list√°k:
                    </p>
                    <pre class="my-4 text-sm md:text-md font-semibold rounded-md overflow-auto text-gray-200"><code class="python">a = np.array([1, 2, 3, 4, 5, 6, 7, 8, 9])
print(a[5])
print(a[1:3])
print(a[::-1])
a[::4] = -1
print(a)

# output:
# 6
# [2 3]
# [9 8 7 6 5 4 3 2 1]
# [-1  2  3  4 -1  6  7  8 -1]</code></pre>
                    <p class="text-lg font-normal pb-3">A t√∂bb-dimenzi√≥s t√∂mb√∂k indexel√©se nagyban hasonl√≠t az egy-dimenzi√≥s
                        t√∂mb√∂k√©hez. Minden dimenzi√≥nak megvan a maga index √©s slice m≈±velete, √©s ezeket vessz≈ëvel elv√°lasztott
                        tuple-k√©nt hat√°rozzuk meg. A k√∂vetkez≈ë √°bra szeml√©lteti a folyamatot:
                    </p>
                    <figure>
                        <img class="mx-auto"
                            src="../img/fig14.png"
                            alt="√Åbra 14">
                        <figcaption class="text-center pt-3 pb-4 text-md">14. √Åbra: A t√∂bb-dimenzi√≥s indexel√©s NumPy-al
                        </figcaption>
                    </figure>
                    <p class="text-lg font-normal">Abban az esetben, ha az objektumok sz√°ma a tuple-ben kevesebb, mint a dimenzi√≥k
                        sz√°ma, abban az esetben, azt felt√©telezi, hogy a teljes eg√©sz√©t kiv√°lasztottuk a hi√°nyz√≥nak, de ak√°r
                        ellipsziseket is haszn√°lhatunk a teljes kiv√°laszt√°sra:
                    </p>
                    <pre class="my-4 text-sm md:text-md font-semibold rounded-md overflow-auto text-gray-200"><code class="python">a = np.arange(16, dtype='int64')
a = a.reshape([2, 2, 4])
# print(a)
# print(a[0, 1])
print(a[0, :, 2:3])
print(a[0, :, :])
print(a[0, ...])

# output:
# [[2]
#  [6]]
# [[0 1 2 3]
#  [4 5 6 7]]
# [[0 1 2 3]
#  [4 5 6 7]]</code></pre>
                    <p class="text-lg font-normal">Az egyik legjobb dolog a NumPy t√∂mb√∂kkel kapcsolatosan, hogy k√©pes vagy
                        alapvet≈ë √©s nem is annyira alapvet≈ë m≈±veleteket elv√©gezni vel√ºk, olyan m√≥don ahogy azt kor√°bban is
                        megszokhattad, teh√°t mint sima numerikus v√°ltoz√≥kkal. Az egyszer≈± matematikai m≈±veletek, ahogy azt
                        elv√°rn√°nk minden t√∂mbelemen v√©grehajt√°sra ker√ºlnek:
                    </p>
                    <pre class="my-4 text-sm md:text-md font-semibold rounded-md overflow-auto text-gray-200"><code class="python">a = np.arange(1, 7, dtype='int64')
print(a)
a = a.reshape([2, 3])
print(a)
print(a + 2)
print(a * 2)
print(a / 2.0)
# a fenti oszt√°s eset√©ben, implicit m√≥don, amikor float sz√°mmal osztunk, a t√∂mb √°talak√≠t√°sra ker√ºl float64 t√≠pus√∫v√°

# output:
# [1 2 3 4 5 6]
# [[1 2 3]
#  [4 5 6]]
# [[3 4 5]
#  [6 7 8]]
# [[ 2  4  6]
#  [ 8 10 12]]
# [[0.5 1.  1.5]
#  [2.  2.5 3. ]]</code></pre>
                    <p class="text-lg font-normal">A logikai oper√°torok hasonl√≥ logika ment√©n m≈±k√∂dnek, ahogy azt a k√∂vetkez≈ë
                        p√©lda is szeml√©lteti:
                    </p>
                    <pre class="my-4 text-sm md:text-md font-semibold rounded-md overflow-auto text-gray-200"><code class="python">print(a &#60; 4)
# output:
# [[ True  True  True]
# [False False False]]</code></pre>
                    <p class="text-lg font-normal">A t√∂mb√∂k emellett hasznos met√≥dusokkal is rendelkeznek, a m≈±veleteken t√∫l,
                        amelyeket a k√∂vetkez≈ë p√©lda is szeml√©ltet:
                    </p>
                    <pre class="my-4 text-sm md:text-md font-semibold rounded-md overflow-auto text-gray-200"><code class="python">a = np.arange(10).reshape([2, 5])

print(a.min(axis=1))
# output: [0 5]

print(a.sum(axis=0))
# output: [ 5  7  9 11 13]

print(a.sum(axis=1))
# output: [10 35]

print(a.mean(axis=1))
# output: [2. 7.]

# sz√≥r√°s
print(a.std(axis=1))
# output: [1.41421356 1.41421356]

# az axis = 0 eset√©n, f√ºgg√∂legesen, a dimenzi√≥k k√∂z√∂tt, √∂sszegzi (pl.) az elemeket 
# az axis = 1 eset√©n, v√≠zszintesen, a dimenzi√≥kon bel√ºl, √∂sszegzi az elemeket</code></pre>
                    <p class="text-lg font-normal">Tov√°bb√°, nagysz√°m√∫ be√©p√≠tett t√∂mb f√ºggv√©nnyel is rendelkezik a NumPy,
                        megintcsak az al√°bbi p√©lda szeml√©ltet ezek k√∂z√ºl n√©h√°nyat:
                    </p>
                    <pre class="my-4 text-sm md:text-md font-semibold rounded-md overflow-auto text-gray-200"><code class="python">pi = np.pi
a = np.array([pi, pi/2, pi/4, pi/6])
print(np.degrees(a)) # √°talak√≠tja radi√°nb√≥l fokba a megadott t√∂mb elemeit
# output: [180.  90.  45.  30.]

sin_a = np.sin(a) # visszat√©r√≠ti a radi√°nok szinusz √©rt√©k√©t
print(sin_a)
# output: [1.22464680e-16 1.00000000e+00 7.07106781e-01 5.00000000e-01]

print(np.round(sin_a, 7)) # kerek√≠ti 7 tizedespontos√°ggal
# output: [0.        1.        0.7071068 0.5      ]

a = np.arange(8).reshape([2, 4])

print(np.cumsum(a, axis=1))
# halmozott √∂sszeg a m√°sodik tengely ment√©n, teh√°t jelenesetben v√≠zszintesen, dimenzi√≥kon bel√ºl

print(np.cumsum(a))
# a tengelymeghat√°roz√°s n√©lk√ºl a t√∂mb kisimul, teh√°t egy-dimenzi√≥ss√° alakul

# output:
# [[ 0  1  3  6]
#  [ 4  9 15 22]]
# [ 0  1  3  6 10 15 21 28]</code></pre>
                    <p class="text-lg font-normal pb-3">F√ºggetlen√ºl att√≥l, hogy melyik Python adat-feldolgoz√°si k√∂nyvt√°rat
                        haszn√°lod,
                        legyen az Pandas, Scipy, vagy scikit-learn, esetleg PyBrain, nagy es√©ly van r√°, hogy az alapvet≈ë m√∂g√∂ttes
                        adat-strukt√∫ra a NumPy t√∂mbje lesz.
                    </p>
                    <p class="text-lg font-normal pb-3">Ilyen √©rtelemben, a k√©pess√©g arra, hogy l√©trehozhassunk t√∂mb feldolgoz√°si
                        f√ºggv√©nyeket nagy seg√≠ts√©g√ºnkre lehet a tov√°bbiakban.
                    </p>
                    <p class="text-lg font-normal pb-3">A k√∂vetkez≈ëkben ezzel ismerked√ºnk meg mik√∂zben megpr√≥b√°ljuk megszel√≠diteni
                        a t√∂mb√∂ket, hogy kisz√°molhassunk egy statisztikai mozg√≥√°tlagot. Nagyon egyszer≈±en elmondva a mozg√≥√°tlag
                        egy olyan statisztikai sz√°m√≠t√°s, amely sor√°n az √°ltal elemezz√ºk az adatpontokat, hogy a nagy adatsort
                        kisebb adatsorokra bontjuk √©s azok √°tlagait √°tlagoljuk.
                    </p>
                    <p class="text-lg font-normal pb-3">A k√∂vetkez≈ëkben ezzel ismerked√ºnk meg mik√∂zben megpr√≥b√°ljuk megszel√≠diteni
                        a t√∂mb√∂ket, hogy kisz√°molhassunk egy statisztikai mozg√≥√°tlagot. Nagyon egyszer≈±en elmondva a mozg√≥√°tlag
                        egy olyan statisztikai sz√°m√≠t√°s, amely sor√°n l√©nyeg√©ben √°tlagok sorozat√°t sz√°moljuk egy mozg√≥ "ablakon"
                        (adatsoron) bel√ºl a legutols√≥ n darab √©rt√©kb≈ël, ahol az n egy v√°ltoz√≥ sz√°m.
                    </p>
                    <p class="text-lg font-normal">Egy-dimenzi√≥s t√∂mb eset√©ben n√©h√°ny sor alatt ki lehet sz√°molni a mozg√≥√°tlagot:
                    </p>
                    <pre class="my-4 text-sm md:text-md font-semibold rounded-md overflow-auto text-gray-200"><code class="python">def moving_average(a, n=3):
    ret = np.cumsum(a, dtype=float)
    ret[n:] = ret[n:] - ret[:-n]
    return ret[n - 1:] / n</code></pre>
                    <p class="text-lg font-normal pb-3">Teh√°t, a f√ºggv√©ny bevesz egy a t√∂mb√∂t, √©s egy n sz√°mot, amely meghat√°rozza
                        a
                        mozg√≥ ablakunk hossz√°t, jelen esetben alap√©rtelmezetten ez egyenl≈ë 3-al. Els≈ë l√©p√©sben, halmozott √∂sszeget
                        sz√°molunk a NumPy be√©p√≠tett f√ºggv√©ny√©vel. A halmozott √∂sszeg, mint tudjuk, l√©nyeg√©ben a t√∂mb elemein
                        v√©gighaladva, az √∂sszes addigi elem √∂sszege, bele√©rtve az aktu√°list is.
                    </p>
                    <p class="text-lg font-normal">M√°sodik l√©p√©sben, kezdve a halmozott √∂sszeg n-edik index√©t≈ël, kivonjuk az
                        i-n-edik √©rt√©k√©t minden i-b≈ël, ami azt jelenti, hogy az i most minden √©rt√©k √∂sszege az utols√≥ n elemnek,
                        bele√©rtve az n-ediket is, valahogy √≠gy:
                    </p>
                    <pre class="my-4 text-sm md:text-md font-semibold rounded-md overflow-auto text-gray-200"><code class="plaintext">[ 0, 1, 2, 3, 4, 5] t√∂mb eset√©n, el≈ësz√∂ris halmozott √∂sszeget sz√°molunk, √≠gy megkapjuk
a [0, 1, 3, 6, 10, 15] t√∂mb√∂t, k√∂vetkez≈ë l√©p√©sben elkezdj√ºk az n-edik indext≈ël, √©s kivonjuk bel≈ële az i-n-edik indexet,
√≠gy a t√∂mb a [0, 1, 3, 6-0, 10-1, 15-3] t√∂mb√∂t,
mivel 3 elemb≈ël √°ll√≥ subseteink vannak, 3-1-t≈ël van √©rtelme √°tlagot sz√°molni, √≠gy a visszat√©r√≠tett √°tlagjaink a
[3 / 3, 6 / 3, 9 / 3, 12 / 3] lesznek.</code></pre>
                    <p class="text-lg font-normal">Ak√°r pap√≠r mellett √©l≈ëben is megvizsg√°lhatjuk a f√ºggv√©ny√ºk helyes m≈±k√∂d√©s√©t:
                    </p>
                    <pre class="my-4 text-sm md:text-md font-semibold rounded-md overflow-auto text-gray-200"><code class="python">print(moving_average(np.arange(6)))
# output: [1. 2. 3. 4.]</code></pre>
                </section>

                <section id="4pandas">
                    
                </section>
            </section>

            <!-- negyedik r√©sze v√©ge -->

            <div class="my-8 flex content-center">
                <button class="flex-auto w-24 bg-gray-900 text-white group hover:bg-blue-800 transition duration-75 ease-in"><a
                        class="block px-4 py-2"
                        href="3.html"><span class="inline-block font-normal transform group-hover:-translate-x-1 transition
                            duration-100 ease-in">&larr;</span>
                        El≈ëz≈ë</a></button>
                <!--<button class="flex-auto w-24 ml-4 py-2 bg-gray-900 text-white group hover:bg-blue-800 transition duration-75
                    ease-in"><a class="block px-4"
                        href="#">K√∂vetkez≈ë
                        <span
                            class="inline-block font-normal transform group-hover:translate-x-1 transition duration-100 ease-in">&rarr;</span></a></button>-->
            </div>
        </main>

        <div id="arr"
            class="fixed block transition duration-100 ease-in"><a class="inline-block text-3xl py-3 px-6 hover:text-blue-800 transition duration-100 ease-in transform hover:scale-125
                opacity-50 hover:opacity-100"
                href="#menu">&uarr;</a></div>

        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
        <script src="https://d3js.org/d3.v5.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/underscore.js/1.10.2/underscore-min.js"></script>
        <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.1/highlight.min.js"></script>
        <script src="../tools/pushy-1.3.0/js/pushy.min.js"></script>
        <!-- cross-platform megold√°s a smooth-scroll-ra, jQuery haszn√°lat√°val -->
        <script src="../javascript/smooth.js"></script>
        <script src="../javascript/main.js"></script>
        <script src="../javascript/introd3.js"></script>
    </body>

</html>