<!DOCTYPE html>
<html lang="en"
    class="text-black text-base md:text-lg antialiased leading-relaxed tracking-normal break-normal bg-white">

    <head>
        <meta charset="UTF-8">
        <meta name="viewport"
            content="width=device-width, initial-scale=1.0">
        <meta name="description"
            content="A repo for studying a book.">
        <meta name="keywords"
            content="visualization,javascript,python,d3,flask,restful">
        <meta name="author"
            content="Luk√°cs Zsolt">
        <meta http-equiv="X-UA-Compatible"
            content="ie=edge">
        <title>6 Az adatok √°br√°zol√°sa</title>
        <link rel="stylesheet"
            href="../css/style.css">
        <!-- Safari-n az emoji favicon nem m≈±k√∂dik -->
        <link rel="icon"
            href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22
                viewBox=%220
                0
                100
                100%22><text y=%22.9em%22
                    font-size=%2290%22>üìï</text></svg>">
    </head>

    <body class="overflow-x-hidden">
        <!-- navig√°ci√≥ -->
        <nav class="pushy pushy-left">
            <div class="pushy-content">
                <ul>
                    <li class="pushy-link"><a href="../index.html">1 Bevezet√©s</a></li>
                    <li class="pushy-link"><a href="2.html">2 Els≈ë l√©p√©sek az adatvizualiz√°ci√≥ban</a></li>
                    <li class="pushy-link"><a href="3.html">3 Az adatok megszerz√©se</a></li>
                    <li class="pushy-link"><a href="4.html">4 Az adatok tiszt√≠t√°sa √©s feldolgoz√°sa</a></li>
                    <li class="pushy-link"><a href="5.html">5 Az adatok eljuttat√°sa</a></li>
                    <li class="pushy-link"><a href="6.html">6 Az adatok √°br√°zol√°sa</a></li>
                </ul>
            </div>
        </nav>

        <!-- Pushy-hoz site overlay -->
        <div class="site-overlay"></div>

        <main id="container"
            class="container p-8 md:p-6 max-w-2xl md:max-w-4xl min-h-screen mx-auto xl:ml-64">
            <button id="menu"
                class="menu-btn px-4 py-2 bg-gray-900 text-white hover:bg-blue-800 transition duration-75 ease-in rounded-md">&#9776;
                Men√º</button>

            <!-- negyedik r√©sze eleje -->

            <section class="pb-8">
                <h1 class="text-3xl md:text-4xl py-8 text-gray-900 font-semibold">6 Az adatok √°br√°zol√°sa</h1>

                <section id="6imaginingnobelvizualization">
                    <h2 class="text-2xl pb-4 font-semibold text-gray-800">Tervezz√ºk meg a vizualiz√°ci√≥nkat</h2>
                    <p id="firstPar"
                        class="text-lg font-normal pb-3">Kor√°bban mondhatni v√©gign√©zt√ºk a Nobel-d√≠jas adatsorunkat kutatva olyan
                        r√©szletek ut√°n, amelyeket meg√©rn√© kiemelni a vizualiz√°ci√≥ sor√°n. Az egyik √©rdekes r√©szlet a n≈ëi fizika
                        Nobel-gy≈ëztesek k√∂z√∂tt volt, hiszen Maria Goeppertr≈ël √©s a mind√∂ssze 2 √©ve nyert Donna Stricklandr≈ël
                        szinte senki sem hallott. A m√°sodik √©rdekes dolog az amerikai Nobel-gy≈ëztesek megugr√°sa volt a 2.
                        Vil√°gh√°bor√∫ ut√°n. A harmadik a kontinent√°lis gy≈ëzelmek eloszl√°sa volt, v√©g√ºl a negyedik a skandin√°v orsz√°g
                        dominanci√°ja az egy f≈ëre jut√≥ Nobel-gy≈ëztesek rangsor√°ban.</p>
                    <p class="text-lg font-normal pb-3">Alapvet≈ëen, a fent √°br√°zolt elemek √°br√°zol√°s√°hoz k√ºl√∂nb√∂z≈ë vizualiz√°ci√≥s
                        elemekre van sz√ºks√©g√ºnk. A nemzeti Nobel √∂sszehasonl√≠t√°s legjobban egy konvencion√°lis oszlopdiagrammal
                        lehetne bemutatni, de ezzel szemben a f√∂ldrajzi eloszl√°sra sz√ºks√©g√ºnk lesz egy t√©rk√©pre. Ebben a r√©szben
                        megfogjuk el≈ësz√∂ris tervezni az interakt√≠v vizualiz√°ci√≥nkat, amely mag√°ba foglalja a fent eml√≠tett
                        kulcst√∂rt√©neteket, amelyeket felfedezt√ºnk.</p>
                    <p class="text-lg font-normal pb-3">Az els≈ë dolog, amit megkell fontolnunk amikor egy vizualiz√°ci√≥t hozunk
                        l√©tre √©s
                        egy√∫ttal azt megel≈ëz≈ëen meg is tervez√ºnk, hogy kinek is sz√≥l az. Teh√°t, att√≥l f√ºgg≈ëen, hogy milyen
                        k√∂rnyezetben k√≠v√°njuk azt megjelen√≠teni, elt√©r≈ë m√≥dok k√∂z√ºl v√°laszthatunk, m√©g akkor is, ha elmondhat√≥ az,
                        hogy a h√°tt√©rben ugyanaz az adatsor √°ll. Term√©szetesen, a mi eset√ºnk, egyfajta inform√°lis vizualiz√°ci√≥r√≥l
                        besz√©lhet√ºnk, ahol √∫m. nincs semmif√©le megk√∂t√©s az √°br√°zol√°st tekintet≈ëen, a mi vizualiz√°ci√≥nknak k√©t f≈ë
                        c√©lja van, hogy: inform√°ljon √©s sz√≥rakoztasson.</p>
                    <p class="text-lg font-normal pb-3">Tervez√©skor az els≈ë dolgunk meghat√°rozni azt, hogy milyen vizu√°lis
                        elemekkel fogunk dolgozni. A k√∂nyv szerint haladva, jelen esetben annyira egyszer≈± kellene, hogy legyen a
                        vizualiz√°ci√≥, hogy bemutassa √©s megtan√≠tsa a kulcsfontoss√°g√∫ D3 k√∂nyvt√°r elemeket, de m√©g ha nem is
                        besz√©lhetn√©nk err≈ël a megk√∂t√©sr≈ël, akkor is elmondhat√≥ √©s betartand√≥ szab√°ly lehetne az, hogy pr√≥b√°ljuk
                        lekorl√°tozni minden esetben a vizualiz√°ci√≥nk elemeit. Term√©szetesen, ez kontextusf√ºgg≈ë, azonban a
                        vizualiz√°ci√≥k eset√©n is elmondhat√≥ rengeteg alkalommal az, hogy a kevesebb, n√©ha t√∂bb, t√∫l sok
                        interkativit√°s leterhelheti a felhaszn√°l√≥t (paradox of choice), √©s ferd√≠theti azt a t√∂rt√©netet, amit el
                        szerett√ºnk volna mondani.</p>
                    <p class="text-lg font-normal pb-3">Ezt √©szbentartva gondolkozzunk el, hogy milyen kulcsfontoss√°g√∫ vizu√°lis
                        elemek kell szerepeljenek a vizualiz√°ci√≥nkban.</p>
                    <p class="text-lg font-normal pb-3">Egyfajta men√ºbarra mindenk√©pp sz√ºks√©g√ºnk lesz, lehet≈ëv√© t√©ve a
                        felhaszn√°l√≥nak, hogy bele√©lje mag√°t a vizualiz√°ci√≥ba √©s manipul√°lja az adatokat. R√∂viden √©s t√∂m√∂ren, a
                        men√ºbar fogja sz≈±rhet≈ëv√© tenni az adatainkat. Ide√°lis esetben a vizualiz√°ci√≥nk megkellene, hogy jelen√≠tse
                        a d√≠jakat, √©vekre lebontva, √©s ez a megjelen√≠t√©s friss√≠teni kellene √∂nmag√°t, att√≥l f√ºgg≈ëen, hogy a
                        men√ºbarban a felhaszn√°l√≥ √©ppen mit v√°lasztott ki. Itt j√∂nne k√©pbe a kor√°bban eml√≠tett t√©rk√©p is, amely
                        kiemeln√© a d√≠jnyertes orsz√°gokat, m√°r eml√≠teni sem kell, hogy ez is friss√≠ten√© √∂nmag√°t a sz≈±r√©snek
                        megfelel≈ëen. Az oszlopdiagram tudja legjobban bemutatni azt, hogy milyen k√ºl√∂nbs√©gek figyelhet≈ëk meg az
                        orsz√°gok k√∂z√∂tt d√≠jak tekintet√©ben. Valamint, egy olyan opci√≥t is biztos√≠tanunk kell, amely lehet≈ës√©get
                        biztos√≠t arra, hogy a felhaszn√°l√≥ eld√∂ntse abszol√∫t, vagy egy f≈ëre jut√≥ d√≠jak tekintet√©ben szeretn√© az
                        √∂sszehasonl√≠t√°st v√©gezni.</p>
                    <p class="text-lg font-normal pb-3">Hogy egyfajta szem√©lyess√©get is bevigy√ºnk a t√∂rt√©netben, k√©pes kellene,
                        hogy legyen a felhaszn√°l√≥, hogy kiv√°lasszon egy√©ni gy≈ëzteseket, √©s azut√°n megjelen√≠ts√ºk neki a k√©pet,
                        amennyiben rendelkez√©sre √°ll, valamint az √©letrajzi bekezd√©seket. Ehhez sz√ºks√©g√ºnk lesz egy list√°ra, az
                        √©ppen kiv√°lasztott gy≈ëztesekr≈ël, √©s egy ablakra, ahol a kiv√°lasztott gy≈ëztest jelen√≠ts√ºk meg.</p>
                    <p class="text-lg font-normal pb-3">A v√©gs≈ë vizualiz√°ci√≥ hasonl√≥k√©ppen kellene, hogy kin√©zzen, azonban ez
                        id≈ëk√∂zben m√©g v√°ltozhat:</p>
                    <figure>
                        <img class="mx-auto"
                            src="../img/fig65.png"
                            alt="√Åbra 65">
                        <figcaption class="text-center pt-3 pb-4 text-md">65. √Åbra: A Nobel-vizualiz√°ci√≥s dashboard mint√°ja
                        </figcaption>
                    </figure>
                    <p class="text-lg font-normal pb-3">Egy interakt√≠v vizualiz√°ci√≥ az√©rt interakt√≠v, mert a felhaszn√°l√≥ k√©pes
                        befoly√°solni a megjelen√≠t√©st, att√≥l f√ºgg≈ëen, hogy a rendelkez√©s√©re bocs√°jtott opci√≥k k√∂z√ºl ≈ë mit v√°laszt
                        ki. Ilyen √©rtelemben, a mi opci√≥inkkal is els≈ëk√©nt fog a felhaszn√°l√≥ tal√°lkozni √©s a dashboard-unk tetej√©n
                        fog megjelenni. Egy egyszer≈± m√≥d arra, hogy √©rdekes felfedez√©sekre vezess√ºk a felhaszn√°l√≥t, hogy
                        lehet≈ës√©get adunk neki, hogy kulcsdimenzi√≥k szerint sz≈±rje az adatokat, n√°lunk a kulcsdimenzi√≥k k√∂z√©
                        tartozik a kateg√≥ria, a nem √©s v√©g√ºl az orsz√°g. Ezek a sz≈±r√∂k ugyanakkor halmoz√≥dnak is, teh√°t, ha
                        kiv√°lasztja a felhaszn√°l√≥, hogy a n≈ëi fizikagy≈ëzteseket akarja, akkor azokat is kapja vissza, k√©t sz≈±r√∂t
                        be√°ll√≠tva. Valamint, a sz≈±r√∂k mell√© m√©g hozz√°f≈±z√ºnk egy gombos v√°laszt√°st is, ahol a felhaszn√°l√≥
                        kiv√°laszthatja, hogy abszol√∫t vagy egy f≈ëre jut√≥ mutat√≥kban szeretn√© l√°tni a nemzeti gy≈ëztesek ar√°ny√°t.
                    </p>
                    <p class="text-lg font-normal pb-3">A k√∂vetkez≈ë elem√ºnk a dashboardon az id≈ësorunk. Az id≈ësorra az√©rt van
                        sz√ºks√©g, mert ez a legjobb m√≥d arra, hogy a nyertesek alakul√°s√°t id≈ëben nyomon k√∂vess√ºk, valamint azt is
                        bemutassuk egy√∫ttal, hogy nemek tekintet√©ben az eg√©sz hogyan alakult, vagy orsz√°g vagy kateg√≥ria
                        tekintet√©ben is ak√°r. A Nobel-vizualiz√°ci√≥nk hozz√°vet≈ëlegesen 1000px sz√©les lesz, √©s 118 √©vet kell az
                        id≈ësor lefedjen, teh√°t hozz√°vet≈ëlegesen 8px fog rendelkez√©s√ºnkre √°llni d√≠jakk√©nt, elegend≈ë ahhoz, hogy
                        megk√ºl√∂nb√∂ztess√ºk ≈ëket. A legt√∂bb d√≠jat 2000-ben osztott√°k ki, mintegy 14-et, ez √°ltal meghat√°rozhatjuk az
                        id≈ësorunk minim√°lis magass√°g, ami 14x8=112px, teh√°t nagyj√°b√≥l 120px, hogy kicsit legyen magasabb. Ahogy a
                        fenti √°bra is bemutatja a d√≠jak megk√ºl√∂nb√∂ztet√©se √∫gy a legk√∂nnyebb, ha sz√≠nk√≥duljuk ≈ëket. Az id≈ësor a
                        most k√∂vetkez≈ë t√©rk√©p ut√°n a vizualiz√°ci√≥nk egyik k√∂zponti eleme, √≠gy viszonylag azonnal l√°that√≥ helyen, a
                        dashboard-unk tetej√©n fog elhelyezkedni a t√©rk√©p f√∂l√∂tt.
                    </p>
                    <p class="text-lg font-normal pb-3">A t√©rk√©pez√©s a D3 egyik legnagyobb er≈ëss√©ge. Elmondhat√≥ az, hogy a
                        t√©rk√©pek teljesen magukkalragad√≥k, azonban sok esetben t√∫lhaszn√°lt √°br√°zol√°si form√°r√≥l besz√©lhet√ºnk, √©s
                        nagyon vizsg√°zni kell azzal, hogy ne pr√≥b√°ljunk meg nem-f√∂ldrajzi jelleg≈± adatokat ilyen m√≥don
                        megjelen√≠teni. De a mi eset√ºnkben, amikor a Nobel-gy≈ëztesek ar√°ny√°t kontinensi eloszl√°sban akarjuk
                        vizsg√°lni, ez a megjelen√≠t√©s majdhogynem t√∂k√©letes. A t√©rk√©pez√©st √∫gy fogjuk megoldani, ahogy azt a fenti
                        √°bra is szeml√©lteti, teh√°t minden nyertes orsz√°g ter√ºlet√©re egy piros k√∂rt fogunk elhelyezni, amelyek
                        m√©rete a nyertesek ar√°ny√°t√≥l fog f√ºggni, ugyanakkor az √°tl√°tsz√≥s√°gra az√©rt van sz√ºks√©g, mert olyan
                        kontinensek eset√©n, mint p√©ldak√©ppen Eur√≥pa, ahol viszonylag sok nyertes van, de az orsz√°gok egyenk√©nti
                        f√∂ldrajzi ter√ºlete kicsi, ezek a k√∂r√∂k egym√°sra fognak fek√ºdni, de az √°tl√°tsz√≥s√°ggal ezt a probl√©m√°t
                        megoldottuk, √©s egyfajta d√≠j-s≈±r≈±s√©get is szeml√©lteti tudunk. A t√©rk√©p eset√©ben, m√©g egy kis tooltip-et is
                        fogunk l√©trehozni, a kurzorunkat az orsz√°g ter√ºlet√©re vive megkapjuk a nyertesek sz√°m√°t.
                    </p>
                    <p class="text-lg font-normal pb-3">A k√∂vetkez≈ë elem az oszlopdiagram a dashboard alj√°n, amely nemzetk√∂zi
                        lebont√°sban mutatja be a gy≈ëztesek sz√°m√°t. Az oszlopdiagram sor√°n azt szeretn√©nk, hogy mindk√©t tengely
                        dinamikusan v√°ltozni a felhaszn√°l√≥i interakci√≥ra, √©s mindezt egy anim√°lt 'transition'-el megoldva,
                        szerencs√©re a D3 eset√©n egyszer≈± dolgunk van.
                    </p>
                    <p class="text-lg font-normal">Nem besz√©lt√ºnk m√©g a dashboard jobb oldal√°n megjelen≈ë list√°r√≥l, amely a
                        felhaszn√°l√≥ √°ltal megadott sz≈±r√∂k szerint megfelel≈ë gy≈ëzteseket tartalmazza. Ebben az esetben kicsit
                        korl√°toz√≥k lesz√ºnk, √©s hab√°r megtudn√°nk azt csin√°lni, hogy a felhaszn√°l√≥ k√©pesl egyen oszlopok szerint
                        rendezni a sorrendet, mi m√©gis √©v szerinti cs√∂kken≈ë sorrendre fogjuk korl√°tozni. A list√°val szoros
                        √∂sszef√ºgg√©sben van, az alatta megjelen≈ë √©letrajzi dobozocska, amely az √°ltalunk scrapelt k√©pet √©s
                        √©letrajzi inform√°ci√≥kat fogja tartalmazni, annak a gy≈ëztesnek, amelyet a fenti list√°b√≥l a felhaszn√°l√≥
                        kiv√°lasztott. √ârdekess√©gk√©nt, elfogunk helyezni a doboz tetej√©n egy sz√≠nes cs√≠kot, amely annak a
                        kateg√≥ri√°nak a sz√≠nk√≥dj√°val fog megegyezni, amelyben a kiv√°lasztott Nobel-d√≠jas nyert.
                    </p>
                </section>

                <section id="6buildingvizualization">
                    <h2 class="text-2xl pt-8 pb-4 font-semibold text-gray-800">√âp√≠ts√ºk meg a vizualiz√°ci√≥nkat</h2>
                    <p class="text-lg font-normal pb-3">Teh√°t, az el≈ëz≈ë r√©szben meg√°lmondtunk egy valamire val√≥, de mondhatni
                        rosszul kin√©z≈ë vizualiz√°ci√≥t, amire r√°foghatjuk, hogy els≈ë alkalomra el√©gs√©ges lesz. Ebben a r√©szben meg
                        is √≠rjuk, megfigyelve m≈±k√∂d√©s k√∂zben a m√°r sokszor eml√≠tett D3 k√∂nyvt√°rat.</p>
                    <p class="text-lg font-normal pb-3">Miel≈ëtt azonban nekifoghatn√°nk, el≈ësz√∂ris gondoljuk v√©gig melyek azok az
                        alapvet≈ë komponensek, amelyekre sz√ºks√©g√ºnk lesz, valamint m√©gfontosabb, hogy hogyan fogjuk a f√°jlainkat
                        elrendezni. Ahogy azt kor√°bban is l√°thattuk, egy web vizualiz√°ci√≥hoz n√©gy kulcselemre van sz√ºks√©g√ºnk: egy
                        HTML gerincre, amelyen a JavaScript√ºnk fog megjelenni, CSS st√≠lusokra, JavaScript √°llom√°nyok, minden
                        hozz√°juk tartoz√≥ k√∂nyvt√°rral egy√ºtt, amit felhaszn√°lunk √©s v√©g√ºl maga az adat, amit megjelen√≠t√ºnk,
                        statikus vagy dinamikus form√°ban.</p>
                    <p class="text-lg font-normal pb-3">A mappaorganiz√°ci√≥ra tekintettel, k√∂vetni fogjuk a kor√°bban eml√≠tett
                        szabv√°nyok egyik√©t, amely megfigyelhet≈ë a jegyzet mapp√°i k√∂z√∂tt.</p>
                    <p class="text-lg font-normal pb-3">A megval√≥s√≠t√°s sor√°n a statikus √©s dinamikus adat√°tvitel √∂tv√∂zet√©t fogjuk
                        haszn√°lni. A statikus adat√°llom√°nyok a 'static' mapp√°ban ker√ºlnek t√°rol√°sra, a dinamikus adatokat pedig
                        MongoDB-n t√°roljuk, amelyeket a Python Eve RESTful API-j√°n kereszt√ºl fogunk ig√©ny szerint el√©rni.
                        Igaz√°b√≥l, a dinamikus adat√°tvitelre sem lenne nagy sz√ºks√©g, az adatsorunk, b√°rminem≈± t√∂m√∂r√≠t√©s n√©lk√ºl
                        mind√∂ssze 3 MB k√∂r√ºl van, kiss√© er≈ëltetettnek is mondhat√≥, azonban e f√∂l√∂tt, m√°r gondokat okozhat a
                        cachel√©s √©s rendk√≠v√ºl lelass√≠thatja a bet√∂lt√©st, felesleges frusztr√°lva a felhaszn√°l√≥t. Azonban, jobb, ha
                        megbar√°tkozunk a dinamikus adat√°tvitellel, hiszen √≠gy k√©s≈ëbb, nagyobb projektek eset√©ben nem okoz majd
                        gondot, egy egyszer≈± √©s robosztus API fel√°ll√≠t√°sa sem.</p>
                    <p class="text-lg font-normal pb-3">Hab√°r, a Nobel vizualiz√°ci√≥nk sz√°mos dinamikus komponenssel rendelkezik, a
                        HTML gerinc amire sz√ºks√©gs√ºnk lesz meglep≈ëen egyszer≈±. Megintcsak bebizony√≠tva azt, hogy meglehet≈ës√©ges
                        kev√©s hagyom√°nyos webfejleszt≈ëi tud√°s sz√ºks√©g√ºnk az adatok k√©perny≈ë vitel√©hez.</p>
                    <p class="text-lg font-normal pb-3">Az 'index.html' √°llom√°ny, amely gerinc√©t k√©pzi a vizualiz√°ci√≥nknak h√°rom
                        f≈ë komponenssel rendelkezik: egy CSS st√≠lus importtal, amely be√°ll√≠t bizonyos dolgokat, p√©ldak√©ppen a
                        fontot, a tartalom-blokkok elhelyezked√©s√©t, stb., HTML placeholderekkel a vizu√°lis elemeinkhez, amelyek
                        mind <em>nobel-[foo]</em> id-kkal rendelkeznek, √©s v√©g√ºl JavaScript komponenssel is rendelkezni fog,
                        el≈ësz√∂ris a k√ºl√∂nb√∂z≈ë k√∂nyvt√°rak importj√°val, majd a saj√°t scriptjeinkkel.</p>
                    <p class="text-lg font-normal pb-3">A l√©trehozott HTML gerinc√ºnk, amely megtekinthet≈ë a 'final' mapp√°n bel√ºl,
                        meghat√°rozza a hierarchikus fel√©p√≠t√©s√©t a
                        Nobel-vizualiz√°ci√≥s komponenseinknek, de b√°rmif√©le vizu√°lis megjelen√©s√ºk, st√≠lusuk √©s elrendez√©s√ºk a
                        CSS-b≈ël lesz
                        meghat√°rozva.</p>
                    <p class="text-lg font-normal pb-3">A HTML-ben meghat√°rozott valamennyi 'chart' komponenst k√ºl√∂n fogjuk
                        st√≠lussal ell√°tni, a sz√°munkra l√©trehozott r√©szben. Az els≈ë probl√©ma amibe m√°r a CSS meghat√°roz√°s√°nak
                        legelej√©n belefuthatunk, hogy mekkora is legyen a vizualiz√°ci√≥nk m√©rete. Manaps√°g nagyon sok f√©le
                        k√©perny≈ëm√©ret, √©s eszk√∂z van a piacon. Egy √©rthet≈ë megfontol√°s manaps√°g az, hogy felt√©telezz√ºk, hogy egy
                        eszk√∂z legal√°bb <em>1280x800</em> pixeles k√©perny≈ëm√©rettel rendelkezik. A mi vizualiz√°ci√≥nk
                        hozz√°vet≈ëlegesen 1000x800 pixelnyi lesz.</p>
                    <p class="text-lg font-normal">Els≈ëk√©nt, √°ltal√°nos st√≠lusokat fogunk be√°ll√≠tani, amelyet a teljes
                        dokumentumra √©rtelmez√ºnk:</p>
                    <pre class="my-4 text-sm md:text-md font-semibold rounded-md overflow-auto text-gray-200"><code class="css">body {
    font-family: "Helvetica Neue", Helvetica, Arial, sans-serif; /* be√°ll√≠tjuk a fontot */
    background: #fefefe; /* be√°ll√≠tjuk a h√°tteret */
    width: 1000px; /* a vizualiz√°ci√≥nk sz√©less√©g√©t */
    margin: 0 auto; /* fels≈ë √©s als√≥ marg√≥k 0px, m√©g a sz√©ls≈ëk auto-k, √≠gy k√∂z√©pre rendez≈ëdik a vizualiz√°ci√≥nk */
}

a:link {
    color: royalblue;
    text-decoration: none; /* linkek eset√©n megv√°ltoztatjuk azok sz√≠n√©t √©s kivessz√ºk az al√°h√∫z√°st */
}

a:hover {
    text-decoration: underline; /* hover eset√©n al√°h√∫zodnak a linkek */
}</code><button id="copy"
    class="text-sm md:text-md font-semibold">M√°sold</button></pre>
                    <p class="text-lg font-normal">H√°rom f≈ë komponens√ºnk van a #chart div-√ºnk√∂n bel√ºl, amelyeket mind abszol√∫t
                        m√≥don fogunk elhelyezni, ilyen √©rtelemben a #chart div-hez relat√≠ven: #title, #info √©s #nbviz. A c√≠m pont
                        szembe fog elhelyezkedni, valamint a main kont√©ner az oldal tetej√©t≈ël 90px-re lesz elhelyezve, hogy legyen
                        egy kis helye leveg≈ëzni, valamint adunk neki egy 100%-os width-et, hogy elfoglalja a teljes szabad helyet:
                    </p>
                    <pre class="my-4 text-sm md:text-md font-semibold rounded-md overflow-auto text-gray-200"><code class="css">#chart {
    position: relative;
}

#nbviz {
    position: absolute;
    top: 90px;
    width: 100%;
}

#title {
    position: absolute;
    font-size: 30px;
    font-weight: 100;
    top: 20px;
}</code><button id="copy"
    class="text-sm md:text-md font-semibold">M√°sold</button></pre>
                    <p class="text-lg font-normal">A 'chart-holder' 750px-es magass√°ggal fog rendelkezni, valamit ugyancsak
                        100%-os sz√©les√©ggel a parent elemhez viszony√≠tva, v√©g√ºl egy poz√≠ci√≥ relat√≠v property-vel, ami azt fogja
                        eredm√©nyezi, hogy a child elementjei hozz√° visszony√≠tva lesznek absz√≥luton poz√≠cion√°lva, annak bal-fels≈ë
                        sark√°hoz:
                    </p>
                    <pre class="my-4 text-sm md:text-md font-semibold rounded-md overflow-auto text-gray-200"><code class="css">#chart-holder {
    width: 100%;
    height: 750px;
    position: relative;
}

#chart-holder svg {
    width: 100%;
    height: 100%; /* erre az√©rt van sz√ºks√©g, mert azt akarjuk, hogy az SVG elemek kontextusa a kont√©ner teljes eg√©sz√©t elfoglalj√°k */
}</code><button id="copy"
    class="text-sm md:text-md font-semibold">M√°sold</button></pre>
                    <p class="text-lg font-normal pb-3">Az al√°bbi √°bra bemutatja milyen lenne az optim√°lis m√©retbe√°ll√≠t√°s a
                        vizu√°lis
                        elemeinknek:
                    </p>
                    <figure>
                        <img class="mx-auto"
                            src="../img/fig66.png"
                            alt="√Åbra 66">
                        <figcaption class="text-center pt-3 pb-4 text-md">66. √Åbra: A Nobel-vizualiz√°ci√≥s dashboard mint√°ja
                        </figcaption>
                    </figure>
                    <p class="text-lg font-normal">A fent √°br√°zolt eloszt√°st a k√∂vetkez≈ë CSS k√≥ddal √©rhetj√ºk el:
                    </p>
                    <pre class="my-4 text-sm md:text-md font-semibold rounded-md overflow-auto text-gray-200"><code class="css">#nobel-map, #nobel-winner, #nobel-bar, #nobel-time, #nobel-list {
    position: absolute;
}

#nobel-time {
    top: 0;
    height: 150px;
    width: 100%;
}

#nobel-map {
    background: azure;
    top: 160px;
    width: 700px;
    height: 350px;
}

#nobel-winner {
    top: 510px;
    left: 700px;
    height: 240px;
    width: 300px;
}

#nobel-bar {
    top: 510px;
    height: 240px;
    width: 700px;
}

#nobel-list {
    top: 160px;
    height: 340px;
    width: 290px;
    left: 700px;
    padding-left: 10px; /* az√©rt van sz√ºks√©g erre, hogy elv√°lassza a t√©rk√©pt≈ël */
}</code><button id="copy"
    class="text-sm md:text-md font-semibold">M√°sold</button></pre>
                    <p class="text-lg font-normal pb-3">A t√∂bbi elem CSS megold√°sait akkor fogjuk be√≠rni, amikor az elemek a
                        hely√ºkre ker√ºlnek.
                    </p>
                    <p class="text-lg font-normal pb-3">B√°rmilyen m√©ret≈± √©s kiterjed√©s≈± vizualiz√°ci√≥ eset√©n hasznos dolog, ha m√°r
                        az
                        elej√©n bevezet√ºnk egyfok√∫ modularit√°st, az √°ltal, hogy az eml√≠tett komponenseket, a HTML-t, a CSS-t, a
                        JavaScript-et √©s az adatokat k√ºl√∂n oldalakra szedj√ºk. Hab√°r, sz√°mos m√≥d √©s pr√≥b√°lkoz√°s volt m√°r arra, hogy
                        egy √©rett import/include rendszert vezessenek be a JavaScript-be, ezek m√©g nem teljesen m≈±k√∂dnek √∫gy,
                        ahogy azok kellen√©nek, √≠gy f≈ëleg kezd≈ëk√©nt jobb, ha a megszokott script tag-es megold√°sn√°l maradunk,
                        √ºgyelve a tagek megfelel≈ë sorrendj√©re. Ez egy megbizhat√≥ megold√°s, √©s nincs sz√ºks√©g t√∫lkomplik√°lt build
                        scriptekre, meg hasonl√≥kra, √©s eg√©szen k√∂zepes m√©ret≈± vagy ak√°r kiterjedt vizualiz√°ci√≥k eset√©n is teljesen
                        rendben van.
                    </p>
                    <p class="text-lg font-normal">Teh√°t, a JavaScript √°llom√°nyainkat script tagek seg√≠ts√©g√©vel fogjuk import√°lni,
                        amelyek a body tag v√©ge el≈ëtt, annak alj√°n helyezkednek el:
                    </p>
                    <pre class="my-4 text-sm md:text-md font-semibold rounded-md overflow-auto text-gray-200"><code class="html">&#60;!-- k√∂nyvt√°rak -->
&#60;script src="https://d3js.org/d3.v5.min.js">&#60;/script> &#60;!-- D3 k√∂nyvt√°r -->
&#60;script src="https://unpkg.com/topojson@3.0.2/dist/topojson.min.js">&#60;/script> &#60;!-- topojson k√∂nyvt√°r, amely a GeoJSON kieg√©sz√≠t≈ëje, topol√≥gi√°t enk√≥dol -->
&#60;script src="https://cdnjs.cloudflare.com/ajax/libs/d3-queue/3.0.7/d3-queue.min.js">&#60;/script>
&#60;script src="https://cdnjs.cloudflare.com/ajax/libs/crossfilter/1.3.12/crossfilter.min.js">&#60;/script>
&#60;!-- saj√°t scriptek -->
&#60;script src="../static/js/nbviz_core.js">&#60;/script>
&#60;script src="../static/js/nbviz_menu.js">&#60;/script>
&#60;script src="../static/js/nbviz_map.js">&#60;/script>
&#60;script src="../static/js/nbviz_bar.js">&#60;/script>
&#60;script src="../static/js/nbviz_time.js">&#60;/script>
&#60;script src="../static/js/nbviz_details.js">&#60;/script>
&#60;script src="../static/js/nbviz_main.js">&#60;/script> &#60;!-- a f≈ë elem ker√ºl legal√∫lra, hiszen ez fogja az els≈ë lek√©rdez√©st megejteni az adatokra, √©s megjelen√≠teni --></code><button id="copy"
    class="text-sm md:text-md font-semibold">M√°sold</button></pre>
                    <p class="text-lg font-normal">M√©g a legelej√©n eml√≠tett√ºnk egyfajta megk√∂zel√≠t√©st arra, hogy a JavaScript
                        eset√©n elker√ºlj√ºk a namespace collision-t, az √°ltal, hogy l√©trehozunk egy <em>nbviz</em> namespace-t,
                        tiszt√°n √©s szabadon hagyva a glob√°lis namespace-t, lehet≈ëv√© t√©ve megosztott met√≥dusokat, param√©terek,
                        konstansokat √©s minden egyebet. Minden fent l√°that√≥ m√≥dulunk felfog fedni minden sz√ºks√©ges met√≥dust az
                        nbviz objektumnak, lehet≈ëv√© t√©ve sz√°munkra, hogy azokat m√°s scriptekben is hasznos√≠tsuk:
                    </p>
                    <pre class="my-4 text-sm md:text-md font-semibold rounded-md overflow-auto text-gray-200"><code class="javascript">/* glob√°lis namespace, √©s _, crossfilter, d3 k√∂nyvt√°r hivatkoz√°sok */
(function(nbviz) {
    'use strict';

    /* ... m√≥dulok, priv√°t v√°ltoz√≥k, stb.. */
    nbviz.foo = function() {
        /* ... */
    };
    /* ezt a met√≥dust felfedi az nbviz objektumnak, √≠gy m√°s scriptekben is haszn√°lhat√≥, az nbviz namespacen bel√ºl */
}(window.nbviz = window.nbviz || {}));
/* l√©trehozza az nbviz objektumot, amennyiben nem √°ll rendelkez√©sre, m√°sk√©pp haszn√°lja a megl√©v≈ët */</code><button id="copy"
    class="text-sm md:text-md font-semibold">M√°sold</button></pre>
                    <p class="text-lg font-normal pb-3">A k√∂vetkez≈ë r√©szekben r√©szletesen megfogjuk besz√©lni azt a JavaScript-et
                        √©s D3
                        eseteket, amelyek l√©trehozz√°k a vizualiz√°ci√≥nk k√ºl√∂nb√∂z≈ë elemeit. De el≈ësz√∂r, az adat√°raml√°ssal fogunk
                        foglalkozni, az adatszervert≈ël eg√©szen a kliens b√∂ng√©sz≈ëig, a kliensen bel√ºl, pedig a felhaszn√°l√≥i
                        interakci√≥ √°ltal vez√©relve.
                    </p>
                    <p class="text-lg font-normal pb-3">Sz√°mos m√≥d √©s megk√∂zel√≠t√©s van arra, hogy adatokat kezelj√ºnk b√°rmilyen
                        kiterjed≈± √©s komplexit√°s√∫ projektben. Interakt√≠v applik√°ci√≥kban √©s f≈ëleg adatvizualiz√°ci√≥ban az egyik
                        legjobb √©s robusztusabb megk√∂zel√≠t√©s az, ha van egy k√∂zponti adatobjektumunk, amely cacheli az √©ppen
                        haszn√°lt adatot. A cachelt adat mellett, m√©g lesz n√©h√°ny akt√≠v t≈±kr√∂z√©se, vagy r√©szhalmaza az √©ppen
                        haszn√°lt adatsornak, ugyanazon adatobjektumon bel√ºl. Egy p√©ld√°n kereszt√ºl lehet ezt az √©rthetetlen
                        mondatot megfogni. A Nobel-vizualiz√°ci√≥nkban a felhaszn√°l√≥ k√©pes az adatsorunk n√©h√°ny r√©szhalmaz√°t
                        kiv√°lasztani, p√©ldak√©ppen csak azokat a gy≈ëzteseket, akik a fizika kateg√≥ri√°ban nyertek. Amennyiben, a
                        felhaszn√°l√≥ egy m√°sik adat t≈±kr√∂z√©s√©t v√°lasztja ki az opci√≥kkal, p√©ldak√©ppen kiv√°lasztja az abszol√∫t
                        mutat√≥ helyett, az egy f≈ëre jut√≥ mutat√≥t, egy √∫n. flag-et fogunk √°t√°ll√≠tani (ebben az esetben, a
                        valuePerCapita-t 0-r√≥l 1-re √°ll√≠tsuk). Majd minden vizu√°lis komponens√ºnk ennek a flag-nek megfelel≈ëen fog
                        alkalmazkodni √©s alakulni. Teh√°t, az adatobjektumunk nem csak az akt√≠v adatot, hanem n√©h√°ny kapcsol√≥d√≥
                        r√©szhalmazt is tartalmazni fog, amelyeket a flag-ekkel √©rhet√ºnk el. A kulcsgondolat ezen a p√©ld√°n
                        kereszt√ºl az, hogy √∫gy √°ll√≠tsuk √∂ssze a vizu√°lis elemeket, hogy azok szinkroniz√°lva legyenek b√°rmilyen
                        felhaszn√°l√≥i adatv√°ltoz√°sra. Egy megbizhat√≥ m√≥d arra, hogy ezt el√©rj√ºk, ha l√©trehozunk egyetlen √∫n. update
                        met√≥dust, amely az eg√©sz megjelen√≠t√©st friss√≠ti (mi eset√ºnkben ez <em>onDataChange</em> lesz), amely
                        minden olyan esetben le lesz h√≠vva, amikor a felhaszn√°l√≥ valami olyant tesz, amely megv√°ltoztatja a
                        megjelen√≠tend≈ë adatokat. Ez a met√≥dus fogja '√©rtes√≠teni' a komponenseket, akik a v√°ltoz√°snak megfelel≈ëen
                        fognak arra v√°laszolni.
                    </p>
                    <p class="text-lg font-normal">A JavaScript √°llom√°nyok k√∂z√ºl, amelyek bet√∂ltenek a legels≈ë a
                        <em>nbviz_core.js</em>. Ez a script fog tartalmazni minden olyan k√≥dot, amelyet a k√ºl√∂nb√∂z≈ë scriptek
                        k√∂z√∂tt megszeretn√©nk osztani. P√©ldak√©ppen, rendelkezni fogunk egy <em>categoryFill</em> met√≥dussal, amely
                        visszat√©r√≠t egy specifikus sz√≠nt minden kateg√≥ri√°nak. Ez a sz√≠nk√≥d azt√°n haszn√°lva lesz mind az id≈ësor,
                        valamint az √©letrajzi doboz eset√©n. Tov√°bb√°, ez a core komponens fog tartalmazni minden olyan k√≥dot is,
                        amelyet tesztel√©sre haszn√°lunk, vagy egyszer≈±en az√©rt, mert egyik m√≥dulhoz sem k√∂thet≈ë k√∂zvetlen√ºl.
                        Jelenleg a core JavaScript f√°jl a k√∂vetkez≈ëket tartalmazza:
                    </p>
                    <pre class="my-4 text-sm md:text-md font-semibold rounded-md overflow-auto text-gray-200"><code class="javascript">/* glob√°lis namespace, _, crossfilter, d3 hivatkoz√°sok */

(function(nbviz) {
    'use strict';

    nbviz.data = {} // a f≈ë adatobjektumunk
    nbviz.valuePerCapita = 0; // mutat√≥ flag-√ºnk
    nbviz.activeCountry = null; 
    nbviz.ALL_CATS = 'All Categories' // konstans
    nbviz.TRANS_DURATION = 2000; // milliszekundumban meghat√°rozott hossza az anim√°ci√≥knak
    nbviz.MAX_CENTROID_RADIUS = 30;
    nbviz.MIN_CENTROID_RADIUS = 2;
    nbviz.COLORS = {palegold: '#E6BE8A'};  // b√°rmely olyan sz√≠n, amelynek nevet akarunk adni √©s k√©s≈ëbb haszn√°lni
    $EVE_API = 'http://localhost:5000/api/';

    nbviz.CATEGORIES = [
        "Chemistry", "Economics", "Literature", "Peace", "Physics", "Physiology or Medicine"
    ];

    nbviz.categoryFill = function(category) {
        let i = nbviz.CATEGORIES.indexOf(category);
        return d3.hcl(i / nbviz.CATEGORIES.length * 360, 60, 70);
    };

    nbviz.getDataFromAPI = function(resource, callback) {
        d3.json($EVE_API + resource, function(error) {

        }).then(function(data) {

        });
    };

    /* az √ºres r√©szek a kontextusuk sor√°n lesznek tartalommal felt√∂ltve */
    let nestDataByYear = function(entries) {
        // ...
    };

    nbviz.makeFilterAndDimensions = function(winnersData) {
        // ...
    };

    nbviz.filterByCountries = function(countryNames) {
        // ...
    };

    nbviz.filterByCategory = function(cat) {
        // ...
    };

    nbviz.getCountryData = function() {
        // ...
    };

    /* ez a f√ºggv√©ny ker√ºl leh√≠v√°sra, amikor az adatsor megv√°ltozik, hogy friss√≠t≈ëdjenek a vizualiz√°ci√≥s elemek */
    nbviz.onDataChange = function() {
        let data = nbviz.getCountryData();
        nbviz.updateBarChart(data);
        nbviz.updateMap(data);
        nbviz.updateList(nbviz.countryDim.top(Infinity));
        data = nestDataByYear(nbviz.countryDim.top(Infinity));
        nbviz.updateTimeChart(data);
    };

} (window.nbviz = window.nbviz || {}));</code><button id="copy"
    class="text-sm md:text-md font-semibold">M√°sold</button></pre>
                    <p class="text-lg font-normal">A Nobel-vizualiz√°ci√≥s applik√°ci√≥nk egy sornyi adatlek√©rdez√©ssel fog elindulni
                        az <em>nbviz_main.js</em>-b≈ël. Haszn√°lni fogjuk a D3 <em>queue</em> funkci√≥j√°t, hogy szimult√°n
                        lek√©rdez√©seket ejts√ºnk a statikus adatf√°jlainkra √©s az √∂sszes gy≈ëztes adatsor√°ra. Amikor a queue √∂sszes
                        h√≠v√°sa lefutott, az await met√≥dus √°ltal meghat√°rozott callback f√ºggv√©ny ker√ºl h√≠v√°sra, az adat response-al
                        √©s b√°rmilyen error-al, amely jelentkezett id≈ëk√∂zben:
                    </p>
                    <pre class="my-4 text-sm md:text-md font-semibold rounded-md overflow-auto text-gray-200"><code class="javascript">const query_winners = 'winners?projection=' + JSON.stringify({"mini_bio": 0, "bio_image": 0});

queue()
    /* a statikus f√°jlok magukba foglalnak egy vil√°gt√©rk√©pet, n√©mi orsz√°gadatot, 
    valamint egy dinamikus leh√≠v√°st a Python Eve RESTful API-nkon kereszt√ºl a gy≈ëztes-adatokra, kihagyva az √©letrajzot */
    .defer(d3.json, "static/data/world-110m.json")
    /* a fenti egy topojson-n√°l megkaphat√≥ t√©rk√©p, 1:110milli√≥hoz sk√°l√°val */
    .defer(d3.csv, "static/data/world-country-names-nobel.csv")
    .defer(d3.json, "static/data/winning_country_data.json")
    .defer(nbviz.getDataFromAPI, query_winners)
    .await(ready);

function ready(error, world, countryNames, countryData, winnersData) {
    // ...
}</code><button id="copy"
    class="text-sm md:text-md font-semibold">M√°sold</button></pre>
                    <p class="text-lg font-normal">A queue h√≠v√°sban felhaszn√°ljuk a kor√°bban m√°r l√°tott
                        <em>nbviz.getDataFromAPI</em> met√≥dusunkat, amely mag√°ba foglal egy D3 AJAX h√≠v√°st a Python Eve API-nkhoz:
                    </p>
                    <pre class="my-4 text-sm md:text-md font-semibold rounded-md overflow-auto text-gray-200"><code class="javascript">/* elfogad egy resource-t (pl. winners?projection={'mini_bio': 0, ...}) 
    √©s egy callback f√ºggv√©nyt, amelyet akkor h√≠vunk le, amikor az API h√≠v√°s m√°r megold√≥dott*/
    nbviz.getDataFromAPI = function(resource, callback) {
        d3.json($EVE_API + resource, function(error) {
            if (error) {
                return callback(error);
            }
        }).then(function(data) {
            /* ha a v√°laszul kapott adatnak van 'items' mez≈ëje, akkor abban az esetben t√∂bb gy≈ëztessel van dolgunk */
            if ('_items' in data) {
                callback(null, data._items);
            } else {
                callback(null, data); /* ellenkez≈ë esetben csakis egyetlen gy≈ëztesr≈ël sz√≥l√≥ adatot k√©rt√ºnk le */
            }
            /* a callback f√ºggv√©ny bevesz egy error, √©s data argumentumot, ez√©rt sz√ºks√©ges a null */
        });
    };</code><button id="copy"
    class="text-sm md:text-md font-semibold">M√°sold</button></pre>
                    <p class="text-lg font-normal pb-3">Ha a szimult√°n lek√©rdez√©sek sikeresek, abban az esetben a <em>ready</em>
                        f√ºggv√©ny fogja megkapni a lek√©rt adatot, √©s ut√°na k√©pesek vagyunk azokat tov√°bbk√ºldeni a vizu√°lis
                        elemekhez.
                    </p>
                    <p class="text-lg font-normal">Amiut√°n az 'elhalasztott (deferred)' lek√©rdez√©sek az adatunkra megvoltak a
                        queue met√≥dus √°ltal, az ott meghat√°rozott ready f√ºggv√©ny ker√ºl leh√≠v√°sra, amely argumentumk√©nt megkapja az
                        adatsorokat, a lek√©rdez√©sek sorrendj√©ben. Abban az esetben, ha az adat b√°rmif√©le hiba n√©lk√ºl let√∂lt√©sre
                        ker√ºlt, felhaszn√°ljuk a gy≈ëztes adatokat, hogy l√©trehozzuk az akt√≠v sz≈±r√∂t (ekkor haszn√°ljuk a crossfilter
                        k√∂nyvt√°rat), az akt√≠v sz≈±r√∂t fogjuk haszn√°lni, hogy lehet≈ëv√© tegy√ºk, hogy a felhaszn√°l√≥ kiv√°lasszon
                        r√©szhalmazokat a Nobel-gy≈ëztesek k√∂z√ºl, kateg√≥ria, nem √©s orsz√°g alapj√°n. Ezut√°n inicializ√°l√≥ met√≥dusokat
                        fogunk leh√≠vni, √©s v√©g√ºl haszn√°ljuk az onDataChange met√≥dusunkat is, hogy elk√ºldj√ºk a k√©r√©st a vizu√°lis
                        elemek friss√≠t√©s√©re:
                    </p>
                    <pre class="my-4 text-sm md:text-md font-semibold rounded-md overflow-auto text-gray-200"><code class="javascript">function ready(error, world, countryNames, countryData, winnersData) {
    // logulunk b√°rmif√©le hib√°t a console-ra
    if (error) {
        return console.warn(error);
    }

    // t√°roljuk az orsz√°gadat adatsorunkat
    nbviz.data.countryData = countryData;
    // l√©trehozzuk a sz≈±r√∂nket √©s annak dimenzi√≥it
    nbviz.makeFilterAndDimensions(winnersData);
    // inicializ√°ljuk a men√ºt √©s a t√©rk√©pet
    nbviz.initMenu();
    nbviz.initMap(worldMap, countryNames);
    // triggerelj√ºk a friss√≠t√©st a teljes gy≈ëztes adatsorral
    nbviz.onDataChange();
}</code><button id="copy"
    class="text-sm md:text-md font-semibold">M√°sold</button></pre>
                    <figure>
                        <img class="mx-auto"
                            src="../img/fig67.png"
                            alt="√Åbra 67">
                        <figcaption class="text-center pt-3 pb-4 text-md">67. √Åbra: Az applik√°ci√≥nk adat√°raml√°sa
                        </figcaption>
                    </figure>
                    <p class="text-lg font-normal">Miut√°n a men√º √©s a t√©rk√©p kezdeti √°llapot√°ba lett helyezve a ready
                        f√ºggv√©ny√ºnkben, ut√°na, ahogyan az az √°br√°n is l√°tsz√≥dik, egy friss√≠t√©si folyamatot indittatunk el a
                        vizu√°lis elemek ir√°ny√°ba az onDataChange met√≥dusunkkal, amelyet a nbviz_core.js-ben defini√°ltunk. M√°r
                        t√∂bbsz√∂r is megeml√≠tett√ºk azt, hogy az onDataChange met√≥dus egy megosztott met√≥dus, amelyet minden olyan
                        esetben leh√≠vunk, amikor a megjelen√≠tend≈ë adatok sora megv√°ltozott felhaszn√°l√≥i interakci√≥ v√°lasz√°ul, vagy
                        m√°s esetben, amikor a felhaszn√°l√≥ m√°s mutat√≥t v√°lasztott, abszol√∫t helyett egy f≈ëre jut√≥t, vagy √©ppen
                        ford√≠tva. Az onDataChange met√≥dusunk egyik fontos eleme az els≈ë sorban tal√°lhat√≥:
                    </p>
                    <pre class="my-4 text-sm md:text-md font-semibold rounded-md overflow-auto text-gray-200"><code class="javascript">let data = nbviz.getCountryData();</code><button id="copy"
    class="text-sm md:text-md font-semibold">M√°sold</button></pre>
                    <p class="text-lg font-normal">A f≈ë adatsor, amelyet az id≈ëvonal, a t√©rk√©p √©s az oszlopdiagram is haszn√°l, a
                        getCountryData met√≥dussal van el≈ë√°ll√≠tva, amely csoportos√≠tja a gy≈ëzteseket orsz√°g szerint, hozz√°ad
                        bizonyos nemzeti inform√°ci√≥kat, mint p√©ld√°ul az adott orsz√°g lakoss√°ga, √©s a nemzetk√∂zi azon√≥s√≠t√≥k√≥dja az
                        orsz√°gnak:
                    </p>
                    <pre class="my-4 text-sm md:text-md font-semibold rounded-md overflow-auto text-gray-200"><code class="javascript">nbviz.getCountryData = function() {
        // a countryDim az egyik Crossfilter dimenzi√≥nk lesz
        let countryGroups = nbviz.countryDim.group().all();

        // el≈ë√°ll√≠tjuk a f≈ë adathalmazt
        // haszn√°ljuk a t√∂mb map met√≥dus√°t, hogy l√©trehozzunk egy √∫j t√∂mb√∂t a hozz√°adott elemekkel az orsz√°gadatsorunkb√≥l
        let data = countryGroups.map(function(c) {
            // lek√©ri az adatot felhaszn√°lva a csoportkulcsot, pl. 'Australia'
            let cData = nbviz.data.countryData[c.key];
            let value = c.value;
            // ha az egy f≈ëre jut√≥ flag bevan √°ll√≠tva, akkor osztjuk a lakoss√°ggal
            if (nbviz.valuePerCapita) {
                value = value / cData.population;
            }

            return {
                key: c.key, // pl. N√©metorsz√°g
                value: value, // pl. 16 d√≠j
                code: cData.alpha3Code, // pl. DEU
            };
        })
            .sort(function(a, b) {
                return b.value - a.value; // cs√∂kken≈ë sorrend
            });

        return data;
    };</code><button id="copy"
    class="text-sm md:text-md font-semibold">M√°sold</button></pre>
                    <p class="text-lg font-normal pb-3">Az el≈ëbb m√°r l√°thattuk azt, hogy a getCountryData met√≥dust a friss√≠t≈ë
                        met√≥dusunk hasznos√≠tja, √≠gy valamennyi vizu√°lis elem√ºnk is egyben. Tov√°bb√°, a getCountryData met√≥dusunk
                        haszn√°lja a Crossfilter √°ltal sz≈±rt adatunkat. A k√∂vetkez≈ëkben n√©zz√ºk meg azt, hogy ez a sz≈±r√©s hogyan
                        t√∂rt√©nik, ezzel az eddig ismeretlen k√∂nyvt√°rral.
                    </p>
                    <p class="text-lg font-normal pb-3">A Crossfilter egy olyan magasan optimaliz√°lt k√∂nyvt√°r, amelyet nagym√©ret≈±,
                        t√∂bbv√°ltoz√≥s adatsorok feldolgoz√°s√°ra terveztek JavaScript seg√≠ts√©g√©vel. Nagyon gyorsan tekinthet≈ë, √©s
                        k√∂nny≈±szerrel kezel m√©g olyan adatsorokat is, amelyek messze t√∫lmutatnak a mi, kezdetleges Nobel-d√≠jas
                        adatsorunkon. A Crossfiltert a projekt√ºnk sor√°n arra fogjuk haszn√°lni, hogy sz≈±rj√ºk a gy≈ëztesek adatsor√°t
                        kateg√≥ria, nem √©s orsz√°g dimenzi√≥k szerint. Hab√°r, a Crossfilter-r≈ël elmondhat√≥ az, hogy relat√≠ve nehezen
                        em√©szthet≈ë k√∂nyvt√°r, f≈ëleg akkor, amikor a dimenzi√≥k szerinti sz≈±r√∂k elkezdik keresztezni egym√°st, m√©gis a
                        legt√∂bb 'use-case' egy k√∂z√∂s mint√°t k√∂vet, amelyet m√©gis viszonylag k√∂nnyen meglehet √©rteni. A Crossfilter
                        k√∂nyvt√°rat minden esetben fellehet haszn√°lni, amikor nagy adatsorokb√≥l kell kis r√©szleteket kiv√°gni.
                    </p>
                    <p class="text-lg font-normal">Amikor inicializ√°ltuk a Nobel-vizualiz√°ci√≥nkat a ready met√≥dusun bel√ºl leh√≠vtuk
                        a makeFilterAndDimensions met√≥dust is, amelyet az nbviz_core.js √°llom√°nyban defini√°ltunk. A
                        makeFilterAndDimensions felhaszn√°lja a bet√∂lt√∂tt Nobel-d√≠jas adatsorunkat, hogy l√©trehozzon egy
                        Crossfilter sz≈±r√∂t, √©s n√©h√°ny dimenzi√≥t (pl. d√≠jkateg√≥ria) az adatra alapozva. El≈ësz√∂ris, l√©trehozzuk a
                        sz≈±r√∂nket felhaszn√°lva a Nobel-gy≈ëztesek adatsor√°t, amelyet a Python Eve RESTful API-nk t√©r√≠tett vissza.
                        Ahhoz, hogy l√©trehozzuk az eml√≠tett sz≈±r√∂t, leh√≠vjuk a <em>crossfilter</em> f√ºggv√©nyt a gy≈ëzteseket
                        tartalmaz√≥ objektumok t√∂mbj√©n:
                    </p>
                    <pre class="my-4 text-sm md:text-md font-semibold rounded-md overflow-auto text-gray-200"><code class="javascript">nbviz.filter = crossfilter(winnersData);
        // ...</code><button id="copy"
    class="text-sm md:text-md font-semibold">M√°sold</button></pre>
                    <p class="text-lg font-normal">A Crossfilter √∫gy m≈±k√∂dik, hogy lehet≈ëv√© teszi sz√°munkra, hogy dimenzion√°lis
                        sz≈±r√∂ket hozzunk l√©tre az adatunkra alapozva. Ezt √∫gy tessz√ºk meg, hogy egy f√ºggv√©nyt haszn√°lunk az
                        objektumokon. A k√∂vetkez≈ë k√≥dr√©szlet l√©trehoz egy nem dimenzi√≥t, amelyet arra fogunk haszn√°lni, hogy a
                        Nobel-gy≈ëzteseket sz≈±rj√ºk nem szerint:
                    </p>
                    <pre class="my-4 text-sm md:text-md font-semibold rounded-md overflow-auto text-gray-200"><code class="javascript">// ...

nbviz.genderDim = nbviz.filter.dimension(function(o) {
    return o.gender;
});

// ...</code><button id="copy"
    class="text-sm md:text-md font-semibold">M√°sold</button></pre>
                    <p class="text-lg font-normal">A Crossfilter val√≥di ereje akkor mutatkozik meg, amikor t√∂bb dimenzion√°lis
                        sz≈±r√∂t √°ll√≠tunk be, amely lehet≈ëv√© teszi, hogy kedv√ºnk szerint alkossunk r√©szhalmazokat az adatsorunkb√≥l.
                        A nem szerinti dimenzi√≥ ut√°n l√©trehozunk egy √∫jabb kateg√≥ria dimenzi√≥t is:
                    </p>
                    <pre class="my-4 text-sm md:text-md font-semibold rounded-md overflow-auto text-gray-200"><code class="javascript">nbviz.categoryDim = nbviz.filter.dimension(function (o) {
    return o.category;
});</code><button id="copy"
    class="text-sm md:text-md font-semibold">M√°sold</button></pre>
                    <p class="text-lg font-normal">Teh√°t, ez ut√°n m√°r k√©pesek lenn√©nk az adatunkat nem √©s kateg√≥ria szerint
                        darabolni. A mi Nobel-vizualiz√°ci√≥nkban ezek a sz≈±r√©sek felhaszn√°l√≥i interakci√≥ra lesznek eszk√∂z√∂lve a
                        men√ºbarb√≥l. A Crossfilter, amellett, hogy k√©pes sz≈±rt r√©szhalmazokat visszat√©r√≠teni, k√©pes csoportos√≠t√°si
                        m≈±veleteket is v√©grehajtani az adatunkon:
                    </p>
                    <pre class="my-4 text-sm md:text-md font-semibold rounded-md overflow-auto text-gray-200"><code class="javascript">// l√©trehozza a lent l√°that√≥ csoportokat
let countryGroup = nbviz.countryDim.group();
countryGroup.all();
// visszat√©r√≠ti az √∂sszes csoportot, key-value szerint.

/* output:
[
    {key:"Argentina", value:5},
    {key:"Australia", value:9},
    ...
] */
// a fenti esetben a value a gy≈ëztesek √∂ssz-sz√°m√°t jel√∂li az adott orsz√°gb√≥l</code><button id="copy"
    class="text-sm md:text-md font-semibold">M√°sold</button></pre>
                    <p class="text-lg font-normal">√âs v√©g√ºl l√©trehozunk egy orsz√°g szerinti dimenzi√≥t is:
                    </p>
                    <pre class="my-4 text-sm md:text-md font-semibold rounded-md overflow-auto text-gray-200"><code class="javascript">nbviz.countryDim = nbviz.filter.dimension(function (o) {
    return o.country;
});</code><button id="copy"
    class="text-sm md:text-md font-semibold">M√°sold</button></pre>
                    <p class="text-lg font-normal">Az el≈ëk√©sz√ºletek v√©ge fel√© haladva √©szrevettem azt, hogy val√≥j√°ban az√©rt nem
                        m≈±k√∂dnek a kor√°bban meg√≠rt k√≥dok az √©n rendszeremen, mert a v5-√∂s D3-ban nagy v√°ltoz√°sok jelentek meg,
                        amelyek nem teszik egym√°ssal kompatibiliss√° a kor√°bbi k√≥dot az √∫jjal. Ahhoz, hogy ezt a tov√°bbiakban
                        elker√ºljem √©s a k√∂nyv szerint tudjak haladni, egy r√©gebbi, v4-es, D3-at t√∂lt√∂ttem be, azzal m√°r ez a gond
                        nem jelenik meg. A gondok az async folyamatokkal jelentkeztek legf≈ëk√©ppen. Egyetlen v√°ltoz√°st kellett
                        eszk√∂z√∂ljek a jelenlegi k√≥dban ahhoz, hogy a r√©gebbi verzi√≥ra val√≥ visszat√©r√©s ut√°n minden eddig meg√≠rt
                        k√≥d m≈±k√∂dj√∂n:
                    </p>
                    <pre class="my-4 text-sm md:text-md font-semibold rounded-md overflow-auto text-gray-200"><code class="javascript">nbviz.getDataFromAPI = function (resource, callback) {
    d3.json($EVE_API + resource, function (error, data) {
        if (error) {
            return callback(error);
        }

        /* ha a v√°laszul kapott adatnak van 'items' mez≈ëje, akkor abban az esetben t√∂bb gy≈ëztessel van dolgunk */
        if ('_items' in data) {
            callback(null, data._items);
        } else {
            callback(null, data); /* ellenkez≈ë esetben csakis egyetlen gy≈ëztesr≈ël sz√≥l√≥ adatot k√©rt√ºnk le */
        }
        /* a callback f√ºggv√©ny bevesz egy error, √©s data argumentumot, ez√©rt sz√ºks√©ges a null */
    });
};</code><button id="copy"
    class="text-sm md:text-md font-semibold">M√°sold</button></pre>
                </section>

                <section id="6d3">
                    <h2 class="text-2xl pt-8 pb-4 font-semibold text-gray-800">Munka a D3-al</h2>
                    <p class="text-lg font-normal pb-3">A k√∂vetkez≈ëkben megismerked√ºnk a D3 k√∂nyvt√°rral az √°ltal, hogy meg√©p√≠ts√ºk
                        az els≈ë vizu√°lis elem√ºnket, az oszlopdiagramot. Ahhoz, hogy meg√©p√≠ts√ºnk egy ilyen √∂sszetev≈ët, el≈ësz√∂ris
                        v√©gigkell gondoljuk azt, hogy mib≈ël is √°ll egy oszlopdiagram. Egy oszlopdiagramnak h√°rom f≈ë komponense
                        van: tengelyek, jelmagyar√°zat √©s a c√≠mk√©k, v√©g√ºl term√©szetesen maguk az oszlopok. Mivel mi egy interakt√≠v
                        vizualiz√°ci√≥t hozunk l√©tre, ez√©rt a tengelyeket √©s az oszlopokat √∫gy kell l√©trehozzuk, hogy azok k√©s≈ëbb
                        k√©pesek legyen a felhaszn√°l√≥i interakci√≥ szerint √°talakulni. L√©p√©sr≈ël l√©p√©sre fogjuk a diagrammot
                        l√©trehozni, √©s csak a legv√©g√©n fogjuk az anim√°ci√≥t is be√©p√≠teni. Alapvet≈ëen, a k√∂vetkez≈ë l√©p√©seket fogjuk
                        megismerni mik√∂zben l√©trehozzuk az oszlopdiagrammot: kiv√°lasztunk DOM elemeket a weboldalr√≥l, lek√©rj√ºk √©s
                        ak√°r be is √°ll√≠tjuk azok tulajdons√°gait, attribut√∫mjait √©s st√≠lus√°t, v√©g√ºl √∫j DOM elemeket f≈±z√ºnk hozz√°,
                        vagy illeszt√ºnk be a f√°ba. Miut√°n ezeket az alapvet≈ë l√©p√©seket letudtuk, megismerkedhet√ºnk az √∫n. 'data
                        binding'-al, amely egyfajta adatszinkroniz√°ci√≥ az adatszolg√°ltat√≥ √©s fogyaszt√≥ k√∂z√∂tt, legink√°bb
                        √∂sszek√∂t√©snek lehetne ford√≠tani.</p>
                    <p class="text-lg font-normal pb-3">Els≈ëk√©nt, a kiv√°laszt√°sok. A kiv√°laszt√°sok tekinthet≈ëk a D3 gerinc√©nek.
                        jQuery-hez hasonl√≥ CSS selectorokon alapul√≥ kiv√°laszt√°st haszn√°l a D3, amely seg√≠ts√©g√©vel kiv√°laszthat √©s
                        megv√°ltoztathat egyenk√©nti vagy csoportos DOM elemeket. Minden l√°ncolt D3 m≈±veletsor egy DOM elem vagy egy
                        csoportnyi DOM elem kiv√°laszt√°s√°val kezd≈ëdik, haszn√°lva a <em>select</em> vagy <em>selectAll</em>
                        met√≥dusokat. Az el≈ëbbi az els≈ë, a selectornak megfelel≈ë elemet t√©r√≠ti vissza, m√≠g az ut√≥bbi az √∂sszeset,
                        amely a selectornak megfelel. A k√∂vetkez≈ë √°bra nagyszer≈±en szeml√©lteti a logik√°t:</p>
                    <figure>
                        <img class="mx-auto"
                            src="../img/fig68.png"
                            alt="√Åbra 68">
                        <figcaption class="text-center pt-3 pb-4 text-md">68. √Åbra: A D3 kiv√°laszt√°si logik√°ja
                        </figcaption>
                    </figure>
                    <p class="text-lg font-normal pb-3">A fenti p√©lda azt szeml√©lteti mik√©nt tudja a kiv√°laszt√°s ut√°n l√°ncolva a
                        D3 megv√°ltoztatni a kiv√°lasztott DOM elem magass√°g√°t, amely annak attrib√∫tuma. Az attrib√∫tumok be√°ll√≠t√°sa
                        mellett a D3 k√©pes CSS st√≠lust √©s tulajdons√°gokat is be√°ll√≠tani (pl. egy adott checkbox bevan-e jel√∂lve
                        vagy sem), de ak√°r annak sz√∂veg√©t √©s HTML k√≥dj√°t is. A k√∂vetkez≈ë √°bra azokat a m√≥dokat mutatja be, ahogyan
                        a DOM elemeket k√©pes megv√°ltoztatni a D3:</p>
                    <figure>
                        <img class="mx-auto"
                            src="../img/fig69.png"
                            alt="√Åbra 69">
                        <figcaption class="text-center pt-3 pb-4 text-md">69. √Åbra: DOM elem megv√°ltoztat√°sa a D3-al
                        </figcaption>
                    </figure>
                    <p class="text-lg font-normal pb-3">De ahogy k√©pes a D3 be√°ll√≠tani az eml√≠tett dolgokat, √∫gy k√©pes a megl√©v≈ë
                        be√°ll√≠t√°sokat lek√©rni is, amelyet legjobban a k√∂vetkez≈ë √°bra szeml√©ltet:</p>
                    <figure>
                        <img class="mx-auto"
                            src="../img/fig70.png"
                            alt="√Åbra 70">
                        <figcaption class="text-center pt-3 pb-4 text-md">70. √Åbra: Egy 'rect bar' elem r√©szleteinek lek√©r√©se
                        </figcaption>
                    </figure>
                    <p class="text-lg font-normal pb-3">Az √°br√°n megjelen≈ë m√≥d szerint, ak√°r az elemek HTML k√≥dj√°t vagy azok
                        sz√∂veges tartalm√°t is k√©pesek vagyunk lek√©rni. Hogy a k√∂vetkez≈ë l√©p√©sre terj√ºnk elmondhat√≥ az, hogy eddig
                        csak √©s kiz√°r√≥lag m√°r megl√©v≈ë elemeket v√°ltoztattunk, ez term√©szetesen nagyon hasznos tud lenni, azonban
                        m√©gis nagyobb el≈ënyt jelent az, ha a programb√≥l vagyunk k√©pesek √∫j DOM elemeket l√©trehozni, felhaszn√°lva a
                        D3 <em>append</em> √©s <em>insert</em> met√≥dusait.</p>
                    <p class="text-lg font-normal">Ahhoz, hogy r√©szlet√©ben megismerj√ºk a technik√°t a k√∂vetkez≈ë HTML alappal
                        indulunk el, amely tartalmaz egy 'nobel-bar' placeholdert:</p>
                    <pre class="my-4 text-sm md:text-md font-semibold rounded-md overflow-auto text-gray-200"><code class="html">&#60;!DOCTYPE html>
&#60;html>
    &#60;head>
        &#60;meta charset="UTF-8">
        &#60;link rel="stylesheet" href="style.css">
    &#60;/head>

    &#60;body>
        &#60;div id="nobel-bar">&#60;/div>

        &#60;script src="https://d3js.org/d3.v4.min.js">&#60;/script>
        &#60;script src="script.js">&#60;/script>
    &#60;/body>
&#60;/html></code><button id="copy"
    class="text-sm md:text-md font-semibold">M√°sold</button></pre>
                    <p class="text-lg font-normal">√Åll√≠tsuk be els≈ë l√©p√©sben a 'nobel-bar' elem√ºnk m√©ret√©t CSS-el:</p>
                    <pre class="my-4 text-sm md:text-md font-semibold rounded-md overflow-auto text-gray-200"><code class="css">#nobel-bar {
    width: 600px;
    height: 400px;
}</code><button id="copy"
    class="text-sm md:text-md font-semibold">M√°sold</button></pre>
                    <p class="text-lg font-normal">√Åltal√°ban az els≈ë l√©p√©s, amikor egy diagrammot hozunk l√©tre D3-ban, hogy
                        l√©trehozzuk azt az SVG keretet, amiben szerepelni fog. Ez azt jelenti, hogy hozz√°f≈±z√ºnk egy <em>svg</em>
                        canvas elemet a 'nobel-bar' div-hez, majd egy <em>g</em> csoportot fogunk hozz√°f≈±zni az svg canvas-hez,
                        amely tartalmazni fogja a meghat√°rozott diagramr√©szeket (a mi jelenlegi p√©ld√°k eset√©ben a diagram
                        oszlopait). Ennek a csoportnak szeg√©lyeket fogunk be√°ll√≠tani, hogy elf√©rjenek a k√ºl√∂nb√∂z≈ë diagramelemek,
                        p√©ldak√©ppen a tengelyek, a tengelyc√≠mk√©k √©s a c√≠m is. Konvencion√°lisan, a diagrammunk szeg√©lyeit egy
                        <em>margin</em> objektumban hat√°rozzuk meg, majd haszn√°ljuk a CSS specifikus magass√°g√°t √©s sz√©less√©g√©t a
                        diagrammunknak, amelyet a getBoundingClientRect vagy getBBox met√≥dusokkal √©r√ºnk el, √©s a kett≈ëb≈ël tudjuk
                        sz√°rmaztatni a csoportunk magass√°g√°t √©s sz√©less√©g√©t:</p>
                    <pre class="my-4 text-sm md:text-md font-semibold rounded-md overflow-auto text-gray-200"><code class="javascript">let chartHolder = d3.select('#nobel-bar');

let margin = {top: 20, right: 20, bottom: 30, left: 40};

let boundingRect = chartHolder.node().getBoundingClientRect();

let width = boundingRect.width - margin.left - margin.right;
let height = boundingRect.height - margin.top - margin.bottom;</code><button id="copy"
    class="text-sm md:text-md font-semibold">M√°sold</button></pre>
                    <p class="text-lg font-normal">Miut√°n megkaptuk a fenti logika alapj√°n az oszlopcsoportunk sz√©less√©g√©t √©s
                        magass√°g√°t, haszn√°ljuk a D3-at, hogy l√©trehozzuk a diagram keret√©t, hozz√°f≈±zve a sz√ºks√©ges svg √©s g
                        tageket √©s meghat√°rozva az SVG canvas m√©reteit, valamint a csoport eltol√°s√°t is a translate haszn√°lat√°val:
                    </p>
                    <pre class="my-4 text-sm md:text-md font-semibold rounded-md overflow-auto text-gray-200"><code class="javascript">chartHolder.append('svg')
    .attr('width', width + margin.left + margin.right)
    .attr('height', height + margin.top + margin.bottom)
    .append('g').classed('chart', true)
    .attr('transform', 'translate(' + margin.left + ',' + margin.top + ')');</code><button id="copy"
    class="text-sm md:text-md font-semibold">M√°sold</button></pre>
                    <p class="text-lg font-normal">Miut√°n a keret√ºnket a hely√©re illesztett√ºk, haszn√°lhatjuk megintcsak az
                        append-et, hogy oszlopokat is hozz√°adjunk. Ebben az esetben nem a val√≥s, hanem egy pr√≥ba adatsort fogunk
                        haszn√°lni, amely a k√∂vetkez≈ë:
                    </p>
                    <pre class="my-4 text-sm md:text-md font-semibold rounded-md overflow-auto text-gray-200"><code class="javascript">const nobelData = [{
        key: 'United States',
        value: 336
    },
    {
        key: 'United Kingdom',
        value: 98
    },
    {
        key: 'Germany',
        value: 79
    },
    {
        key: 'France',
        value: 60
    },
    {
        key: 'Sweden',
        value: 29
    },
    {
        key: 'Switzerland',
        value: 23
    },
    {
        key: 'Japan',
        value: 21
    },
    {
        key: 'Russia',
        value: 19
    },
    {
        key: 'Netherlands',
        value: 17
    },
    {
        key: 'Austria',
        value: 14
    }
];</code><button id="copy"
    class="text-sm md:text-md font-semibold">M√°sold</button></pre>
                    <p class="text-lg font-normal">Egy durva megold√°s az oszlopok beilleszt√©s√©re az, ha v√©gigiter√°lunk a
                        <em>nobelData</em> t√∂mb√ºnk√∂n, √©s hozz√°f≈±z√ºnk egy oszlopot a 'chart' csoporthoz, ahogy haladunk. Az
                        iter√°l√°s sor√°n, haszn√°ljuk a t√∂mbben megtal√°lhat√≥ objektumok egyik mez≈ëj√©t, a 'value'-t, ahhoz, hogy
                        be√°ll√≠tsuk az oszlop magass√°g√°t √©s y-poz√≠ci√≥j√°t. Fontos megjegyezni azt, hogy az SVG lefel√© halad√≥
                        y-tengelyt haszn√°l, ez l√©nyeg√©ben azt eredm√©nyezi, hogy ahhoz, hogy a megfelel≈ë helyre helyezz√ºk az
                        oszlopot, kikell vonnunk annak a magass√°g√°t a chart magass√°g√°b√≥l:
                    </p>
                    <pre class="my-4 text-sm md:text-md font-semibold rounded-md overflow-auto text-gray-200"><code class="javascript">let buildCrudeBarChart = function() {
    let chartHolder = d3.select('#nobel-bar');

    let margin = {
        top: 20,
        right: 20,
        bottom: 30,
        left: 40
    };

    let boundingRect = chartHolder.node().getBoundingClientRect();

    let width = boundingRect.width - margin.left - margin.right;
    let height = boundingRect.height - margin.top - margin.bottom;

    let barWidth = width / nobelData.length;

    let svg = chartHolder.append('svg')
        .attr('width', width + margin.left + margin.right)
        .attr('height', height + margin.top + margin.bottom)
        .append('g').classed('chart', true)
        .attr('transform', 'translate(' + margin.left + ',' + margin.top + ')');

    nobelData.forEach(function(d, i) {
        svg.append('rect').classed('bar', true)
            .attr('height', d.value)
            .attr('width', barWidth)
            .attr('y', height - d.value)
            .attr('x', i*(barWidth));
    });
}</code><button id="copy"
    class="text-sm md:text-md font-semibold">M√°sold</button></pre>
                    <p class="text-lg font-normal pb-3">Egy m√°sik met√≥dus arra, hogy D3 elemeket adjon hozz√° a DOM f√°hoz az az insert.
                        Az insert pontosan √∫gy m≈±k√∂dik, mint az append, azonban annak deklar√°ci√≥ja bevesz egy m√°sodik, selector
                        argumentumot, amellyel meghat√°rozhatjuk azt, hogy melyik l√©tez≈ë poz√≠ci√≥ el√© szeretn√©k beilleszteni az
                        elem√ºnket, ahelyett, hogy azt valaminek a v√©g√©hez hozz√°f≈±zn√©nk:
                    </p>
                    <figure>
                        <img class="mx-auto"
                            src="../img/fig71.png"
                            alt="√Åbra 71">
                        <figcaption class="text-center pt-3 pb-4 text-md">71. √Åbra: Egy 'rect bar' elem r√©szleteinek lek√©r√©se
                        </figcaption>
                    </figure>
                </section>
            </section>

            <!-- √∂t√∂dik r√©sze v√©ge -->

            <div class="my-8 flex content-center">
                <button
                    class="flex-auto w-24 bg-gray-900 text-white group hover:bg-blue-800 transition duration-75 ease-in rounded-md"><a
                        class="block px-4 py-2"
                        href="5.html"><span class="inline-block font-normal transform group-hover:-translate-x-1 transition
                            duration-100 ease-in">&larr;</span>
                        El≈ëz≈ë</a></button>
                <!-- <button class="flex-auto w-24 ml-4 py-2 bg-gray-900 text-white group hover:bg-blue-800 transition duration-75
                    ease-in rounded-md"><a class="block px-4"
                        href="5.html">K√∂vetkez≈ë
                        <span
                            class="inline-block font-normal transform group-hover:translate-x-1 transition duration-100 ease-in">&rarr;</span></a></button> -->
            </div>
        </main>

        <div id="arr"
            class="fixed block transition duration-100 ease-in"><a class="inline-block text-3xl py-3 px-6 hover:text-blue-800 transition duration-100 ease-in transform hover:scale-125
                opacity-50 hover:opacity-100"
                href="#menu">&uarr;</a></div>

        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
        <script src="https://d3js.org/d3.v5.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/underscore.js/1.10.2/underscore-min.js"></script>
        <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.1/highlight.min.js"></script>
        <script src="../tools/pushy-1.3.0/js/pushy.min.js"></script>
        <!-- cross-platform megold√°s a smooth-scroll-ra, jQuery haszn√°lat√°val -->
        <script src="../javascript/smooth.js"></script>
        <script src="../javascript/main.js"></script>
        <script src="../javascript/introd3.js"></script>
    </body>

</html>